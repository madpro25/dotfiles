var la=Object.create;var fn=Object.defineProperty;var da=Object.getOwnPropertyDescriptor;var fa=Object.getOwnPropertyNames;var pa=Object.getPrototypeOf,ha=Object.prototype.hasOwnProperty;var Oi=e=>fn(e,"__esModule",{value:!0});var ga=(e,t)=>()=>(e&&(t=e(e=0)),t);var E=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ei=(e,t)=>{for(var i in t)fn(e,i,{get:t[i],enumerable:!0})},Mi=(e,t,i,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of fa(t))!ha.call(e,n)&&(i||n!=="default")&&fn(e,n,{get:()=>t[n],enumerable:!(r=da(t,n))||r.enumerable});return e},Ae=(e,t)=>Mi(Oi(fn(e!=null?la(pa(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),pn=(e=>(t,i)=>e&&e.get(t)||(i=Mi(Oi({}),t,1),e&&e.set(t,i),i))(typeof WeakMap!="undefined"?new WeakMap:0);var ze=E(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});var $n;function zn(){if($n===void 0)throw new Error("No runtime abstraction layer installed");return $n}(function(e){function t(i){if(i===void 0)throw new Error("No runtime abstraction layer provided");$n=i}e.install=t})(zn||(zn={}));Vn.default=zn});var Bn=E(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.Disposable=void 0;var ma;(function(e){function t(i){return{dispose:i}}e.create=t})(ma=It.Disposable||(It.Disposable={}))});var Li=E(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.AbstractMessageBuffer=void 0;var ya=13,va=10,ba=`\r
`,ji=class{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let i=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(i),this._totalLength+=i.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let t=0,i=0,r=0,n=0;e:for(;i<this._chunks.length;){let l=this._chunks[i];r=0;t:for(;r<l.length;){switch(l[r]){case ya:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case va:switch(t){case 1:t=2;break;case 3:t=4,r++;break e;default:t=0}break;default:t=0}r++}n+=l.byteLength,i++}if(t!==4)return;let o=this._read(n+r),a=new Map,f=this.toString(o,"ascii").split(ba);if(f.length<2)return a;for(let l=0;l<f.length-2;l++){let d=f[l],m=d.indexOf(":");if(m===-1)throw new Error("Message header must separate key and value using :");let b=d.substr(0,m),v=d.substr(m+1).trim();a.set(b,v)}return a}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(o)}if(this._chunks[0].byteLength>t){let o=this._chunks[0],a=this.asNative(o,t);return this._chunks[0]=o.slice(t),this._totalLength-=t,a}let i=this.allocNative(t),r=0,n=0;for(;t>0;){let o=this._chunks[n];if(o.byteLength>t){let a=o.slice(0,t);i.set(a,r),r+=t,this._chunks[n]=o.slice(t),this._totalLength-=t,t-=t}else i.set(o,r),r+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,t-=o.byteLength}return i}};hn.AbstractMessageBuffer=ji});var Ui=E(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});var Ra=ze(),Ai=require("util"),ot=Bn(),Da=Li(),Ft=class extends Da.AbstractMessageBuffer{constructor(t="utf-8"){super(t)}emptyBuffer(){return Ft.emptyBuffer}fromString(t,i){return Buffer.from(t,i)}toString(t,i){return t instanceof Buffer?t.toString(i):new Ai.TextDecoder(i).decode(t)}asNative(t,i){return i===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,i):Buffer.from(t,0,i)}allocNative(t){return Buffer.allocUnsafe(t)}};Ft.emptyBuffer=Buffer.allocUnsafe(0);var Ii=class{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),ot.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),ot.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),ot.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),ot.Disposable.create(()=>this.stream.off("data",t))}},Fi=class{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),ot.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),ot.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),ot.Disposable.create(()=>this.stream.off("end",t))}write(t,i){return new Promise((r,n)=>{let o=a=>{a==null?r():n(a)};typeof t=="string"?this.stream.write(t,i,o):this.stream.write(t,o)})}end(){this.stream.end()}},Wi=Object.freeze({messageBuffer:Object.freeze({create:e=>new Ft(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(i){return Promise.reject(i)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new Ai.TextDecoder(t.charset).decode(e)))}catch(i){return Promise.reject(i)}}})}),stream:Object.freeze({asReadableStream:e=>new Ii(e),asWritableStream:e=>new Fi(e)}),console,timer:Object.freeze({setTimeout(e,t,...i){let r=setTimeout(e,t,...i);return{dispose:()=>clearTimeout(r)}},setImmediate(e,...t){let i=setImmediate(e,...t);return{dispose:()=>clearImmediate(i)}},setInterval(e,t,...i){let r=setInterval(e,t,...i);return{dispose:()=>clearInterval(r)}}})});function Jn(){return Wi}(function(e){function t(){Ra.default.install(Wi)}e.install=t})(Jn||(Jn={}));Qn.default=Jn});var bt=E(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.stringArray=ge.array=ge.func=ge.error=ge.number=ge.string=ge.boolean=void 0;function Ta(e){return e===!0||e===!1}ge.boolean=Ta;function Hi(e){return typeof e=="string"||e instanceof String}ge.string=Hi;function _a(e){return typeof e=="number"||e instanceof Number}ge.number=_a;function Pa(e){return e instanceof Error}ge.error=Pa;function wa(e){return typeof e=="function"}ge.func=wa;function $i(e){return Array.isArray(e)}ge.array=$i;function Ca(e){return $i(e)&&e.every(t=>Hi(t))}ge.stringArray=Ca});var Xn=E(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.Message=q.NotificationType9=q.NotificationType8=q.NotificationType7=q.NotificationType6=q.NotificationType5=q.NotificationType4=q.NotificationType3=q.NotificationType2=q.NotificationType1=q.NotificationType0=q.NotificationType=q.RequestType9=q.RequestType8=q.RequestType7=q.RequestType6=q.RequestType5=q.RequestType4=q.RequestType3=q.RequestType2=q.RequestType1=q.RequestType=q.RequestType0=q.AbstractMessageSignature=q.ParameterStructures=q.ResponseError=q.ErrorCodes=void 0;var st=bt(),zi;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(zi=q.ErrorCodes||(q.ErrorCodes={}));var gn=class extends Error{constructor(t,i,r){super(i);this.code=st.number(t)?t:zi.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,gn.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};q.ResponseError=gn;var ce=class{constructor(t){this.kind=t}static is(t){return t===ce.auto||t===ce.byName||t===ce.byPosition}toString(){return this.kind}};q.ParameterStructures=ce;ce.auto=new ce("auto");ce.byPosition=new ce("byPosition");ce.byName=new ce("byName");var G=class{constructor(t,i){this.method=t,this.numberOfParams=i}get parameterStructures(){return ce.auto}};q.AbstractMessageSignature=G;var Vi=class extends G{constructor(t){super(t,0)}};q.RequestType0=Vi;var Bi=class extends G{constructor(t,i=ce.auto){super(t,1);this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};q.RequestType=Bi;var Ji=class extends G{constructor(t,i=ce.auto){super(t,1);this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};q.RequestType1=Ji;var Qi=class extends G{constructor(t){super(t,2)}};q.RequestType2=Qi;var Xi=class extends G{constructor(t){super(t,3)}};q.RequestType3=Xi;var Gi=class extends G{constructor(t){super(t,4)}};q.RequestType4=Gi;var Zi=class extends G{constructor(t){super(t,5)}};q.RequestType5=Zi;var Yi=class extends G{constructor(t){super(t,6)}};q.RequestType6=Yi;var Ki=class extends G{constructor(t){super(t,7)}};q.RequestType7=Ki;var eo=class extends G{constructor(t){super(t,8)}};q.RequestType8=eo;var to=class extends G{constructor(t){super(t,9)}};q.RequestType9=to;var no=class extends G{constructor(t,i=ce.auto){super(t,1);this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};q.NotificationType=no;var ro=class extends G{constructor(t){super(t,0)}};q.NotificationType0=ro;var io=class extends G{constructor(t,i=ce.auto){super(t,1);this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};q.NotificationType1=io;var oo=class extends G{constructor(t){super(t,2)}};q.NotificationType2=oo;var so=class extends G{constructor(t){super(t,3)}};q.NotificationType3=so;var ao=class extends G{constructor(t){super(t,4)}};q.NotificationType4=ao;var co=class extends G{constructor(t){super(t,5)}};q.NotificationType5=co;var uo=class extends G{constructor(t){super(t,6)}};q.NotificationType6=uo;var lo=class extends G{constructor(t){super(t,7)}};q.NotificationType7=lo;var fo=class extends G{constructor(t){super(t,8)}};q.NotificationType8=fo;var po=class extends G{constructor(t){super(t,9)}};q.NotificationType9=po;var qa;(function(e){function t(n){let o=n;return o&&st.string(o.method)&&(st.string(o.id)||st.number(o.id))}e.isRequest=t;function i(n){let o=n;return o&&st.string(o.method)&&n.id===void 0}e.isNotification=i;function r(n){let o=n;return o&&(o.result!==void 0||!!o.error)&&(st.string(o.id)||st.number(o.id)||o.id===null)}e.isResponse=r})(qa=q.Message||(q.Message={}))});var Zn=E(Ve=>{"use strict";var ho;Object.defineProperty(Ve,"__esModule",{value:!0});Ve.LRUCache=Ve.LinkedMap=Ve.Touch=void 0;var be;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(be=Ve.Touch||(Ve.Touch={}));var Gn=class{constructor(){this[ho]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var t;return(t=this._head)==null?void 0:t.value}get last(){var t;return(t=this._tail)==null?void 0:t.value}has(t){return this._map.has(t)}get(t,i=be.None){let r=this._map.get(t);if(!!r)return i!==be.None&&this.touch(r,i),r.value}set(t,i,r=be.None){let n=this._map.get(t);if(n)n.value=i,r!==be.None&&this.touch(n,r);else{switch(n={key:t,value:i,next:void 0,previous:void 0},r){case be.None:this.addItemLast(n);break;case be.First:this.addItemFirst(n);break;case be.Last:this.addItemLast(n);break;default:this.addItemLast(n);break}this._map.set(t,n),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let i=this._map.get(t);if(!!i)return this._map.delete(t),this.removeItem(i),this._size--,i.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,i){let r=this._state,n=this._head;for(;n;){if(i?t.bind(i)(n.value,n.key,this):t(n.value,n.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){let t=this._state,i=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let n={value:i.key,done:!1};return i=i.next,n}else return{value:void 0,done:!0}}};return r}values(){let t=this._state,i=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let n={value:i.value,done:!1};return i=i.next,n}else return{value:void 0,done:!0}}};return r}entries(){let t=this._state,i=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let n={value:[i.key,i.value],done:!1};return i=i.next,n}else return{value:void 0,done:!0}}};return r}[(ho=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let i=this._head,r=this.size;for(;i&&r>t;)this._map.delete(i.key),i=i.next,r--;this._head=i,this._size=r,i&&(i.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let i=t.next,r=t.previous;if(!i||!r)throw new Error("Invalid list");i.previous=r,r.next=i}t.next=void 0,t.previous=void 0,this._state++}touch(t,i){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(i!==be.First&&i!==be.Last)){if(i===be.First){if(t===this._head)return;let r=t.next,n=t.previous;t===this._tail?(n.next=void 0,this._tail=n):(r.previous=n,n.next=r),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(i===be.Last){if(t===this._tail)return;let r=t.next,n=t.previous;t===this._head?(r.previous=void 0,this._head=r):(r.previous=n,n.next=r),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((i,r)=>{t.push([r,i])}),t}fromJSON(t){this.clear();for(let[i,r]of t)this.set(i,r)}};Ve.LinkedMap=Gn;var go=class extends Gn{constructor(t,i=1){super();this._limit=t,this._ratio=Math.min(Math.max(0,i),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,i=be.AsNew){return super.get(t,i)}peek(t){return super.get(t,be.None)}set(t,i){return super.set(t,i,be.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Ve.LRUCache=go});var Rt=E(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.Emitter=at.Event=void 0;var xa=ze(),Sa;(function(e){let t={dispose(){}};e.None=function(){return t}})(Sa=at.Event||(at.Event={}));var mo=class{add(t,i=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(i),Array.isArray(r)&&r.push({dispose:()=>this.remove(t,i)})}remove(t,i=null){if(!this._callbacks)return;let r=!1;for(let n=0,o=this._callbacks.length;n<o;n++)if(this._callbacks[n]===t)if(this._contexts[n]===i){this._callbacks.splice(n,1),this._contexts.splice(n,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let i=[],r=this._callbacks.slice(0),n=this._contexts.slice(0);for(let o=0,a=r.length;o<a;o++)try{i.push(r[o].apply(n[o],t))}catch(f){(0,xa.default)().console.error(f)}return i}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Wt=class{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,i,r)=>{this._callbacks||(this._callbacks=new mo),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,i);let n={dispose:()=>{!this._callbacks||(this._callbacks.remove(t,i),n.dispose=Wt._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(n),n}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};at.Emitter=Wt;Wt._noop=function(){}});var tr=E(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.CancellationTokenSource=ct.CancellationToken=void 0;var ka=ze(),Na=bt(),Yn=Rt(),Kn;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Yn.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Yn.Event.None});function t(i){let r=i;return r&&(r===e.None||r===e.Cancelled||Na.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}e.is=t})(Kn=ct.CancellationToken||(ct.CancellationToken={}));var Oa=Object.freeze(function(e,t){let i=(0,ka.default)().timer.setTimeout(e.bind(t),0);return{dispose(){i.dispose()}}}),er=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Oa:(this._emitter||(this._emitter=new Yn.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},yo=class{get token(){return this._token||(this._token=new er),this._token}cancel(){this._token?this._token.cancel():this._token=Kn.Cancelled}dispose(){this._token?this._token instanceof er&&this._token.dispose():this._token=Kn.None}};ct.CancellationTokenSource=yo});var bo=E(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.ReadableStreamMessageReader=Be.AbstractMessageReader=Be.MessageReader=void 0;var nr=ze(),Dt=bt(),rr=Rt(),Ea;(function(e){function t(i){let r=i;return r&&Dt.func(r.listen)&&Dt.func(r.dispose)&&Dt.func(r.onError)&&Dt.func(r.onClose)&&Dt.func(r.onPartialMessage)}e.is=t})(Ea=Be.MessageReader||(Be.MessageReader={}));var ir=class{constructor(){this.errorEmitter=new rr.Emitter,this.closeEmitter=new rr.Emitter,this.partialMessageEmitter=new rr.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${Dt.string(t.message)?t.message:"unknown"}`)}};Be.AbstractMessageReader=ir;var or;(function(e){function t(i){var d;let r,n,o,a=new Map,f,l=new Map;if(i===void 0||typeof i=="string")r=i!=null?i:"utf-8";else{if(r=(d=i.charset)!=null?d:"utf-8",i.contentDecoder!==void 0&&(o=i.contentDecoder,a.set(o.name,o)),i.contentDecoders!==void 0)for(let m of i.contentDecoders)a.set(m.name,m);if(i.contentTypeDecoder!==void 0&&(f=i.contentTypeDecoder,l.set(f.name,f)),i.contentTypeDecoders!==void 0)for(let m of i.contentTypeDecoders)l.set(m.name,m)}return f===void 0&&(f=(0,nr.default)().applicationJson.decoder,l.set(f.name,f)),{charset:r,contentDecoder:o,contentDecoders:a,contentTypeDecoder:f,contentTypeDecoders:l}}e.fromOptions=t})(or||(or={}));var vo=class extends ir{constructor(t,i){super();this.readable=t,this.options=or.fromOptions(i),this.buffer=(0,nr.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let i=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),i}onData(t){for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders();if(!n)return;let o=n.get("Content-Length");if(!o)throw new Error("Header must provide a Content-Length property.");let a=parseInt(o);if(isNaN(a))throw new Error("Content-Length value must be a number.");this.nextMessageLength=a}let i=this.buffer.tryReadBody(this.nextMessageLength);if(i===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(i):r=Promise.resolve(i),r.then(n=>{this.options.contentTypeDecoder.decode(n,this.options).then(o=>{this.callback(o)},o=>{this.fireError(o)})},n=>{this.fireError(n)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,nr.default)().timer.setTimeout((t,i)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:i}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Be.ReadableStreamMessageReader=vo});var Do=E(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.Semaphore=void 0;var Ma=ze(),Ro=class{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((i,r)=>{this._waiting.push({thunk:t,resolve:i,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Ma.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let i=t.thunk();i instanceof Promise?i.then(r=>{this._active--,t.resolve(r),this.runNext()},r=>{this._active--,t.reject(r),this.runNext()}):(this._active--,t.resolve(i),this.runNext())}catch(i){this._active--,t.reject(i),this.runNext()}}};mn.Semaphore=Ro});var Co=E(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.WriteableStreamMessageWriter=Je.AbstractMessageWriter=Je.MessageWriter=void 0;var To=ze(),Ut=bt(),ja=Do(),_o=Rt(),La="Content-Length: ",Po=`\r
`,Aa;(function(e){function t(i){let r=i;return r&&Ut.func(r.dispose)&&Ut.func(r.onClose)&&Ut.func(r.onError)&&Ut.func(r.write)}e.is=t})(Aa=Je.MessageWriter||(Je.MessageWriter={}));var sr=class{constructor(){this.errorEmitter=new _o.Emitter,this.closeEmitter=new _o.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,i,r){this.errorEmitter.fire([this.asError(t),i,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${Ut.string(t.message)?t.message:"unknown"}`)}};Je.AbstractMessageWriter=sr;var ar;(function(e){function t(i){var r,n;return i===void 0||typeof i=="string"?{charset:i!=null?i:"utf-8",contentTypeEncoder:(0,To.default)().applicationJson.encoder}:{charset:(r=i.charset)!=null?r:"utf-8",contentEncoder:i.contentEncoder,contentTypeEncoder:(n=i.contentTypeEncoder)!=null?n:(0,To.default)().applicationJson.encoder}}e.fromOptions=t})(ar||(ar={}));var wo=class extends sr{constructor(t,i){super();this.writable=t,this.options=ar.fromOptions(i),this.errorCount=0,this.writeSemaphore=new ja.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let n=[];return n.push(La,r.byteLength.toString(),Po),n.push(Po),this.doWrite(t,n,r)},r=>{throw this.fireError(r),r}))}async doWrite(t,i,r){try{return await this.writable.write(i.join(""),"ascii"),this.writable.write(r)}catch(n){return this.handleError(n,t),Promise.reject(n)}}handleError(t,i){this.errorCount++,this.fireError(t,i,this.errorCount)}end(){this.writable.end()}};Je.WriteableStreamMessageWriter=wo});var Eo=E(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.createMessageConnection=S.ConnectionOptions=S.CancellationStrategy=S.CancellationSenderStrategy=S.CancellationReceiverStrategy=S.ConnectionStrategy=S.ConnectionError=S.ConnectionErrors=S.LogTraceNotification=S.SetTraceNotification=S.TraceFormat=S.TraceValues=S.Trace=S.NullLogger=S.ProgressType=S.ProgressToken=void 0;var qo=ze(),oe=bt(),k=Xn(),xo=Zn(),Ht=Rt(),cr=tr(),$t;(function(e){e.type=new k.NotificationType("$/cancelRequest")})($t||($t={}));var So;(function(e){function t(i){return typeof i=="string"||typeof i=="number"}e.is=t})(So=S.ProgressToken||(S.ProgressToken={}));var zt;(function(e){e.type=new k.NotificationType("$/progress")})(zt||(zt={}));var ko=class{constructor(){}};S.ProgressType=ko;var ur;(function(e){function t(i){return oe.func(i)}e.is=t})(ur||(ur={}));S.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var $;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})($=S.Trace||(S.Trace={}));var Ia;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(Ia=S.TraceValues||(S.TraceValues={}));(function(e){function t(r){if(!oe.string(r))return e.Off;switch(r=r.toLowerCase(),r){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}e.fromString=t;function i(r){switch(r){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}e.toString=i})($=S.Trace||(S.Trace={}));var qe;(function(e){e.Text="text",e.JSON="json"})(qe=S.TraceFormat||(S.TraceFormat={}));(function(e){function t(i){return oe.string(i)?(i=i.toLowerCase(),i==="json"?e.JSON:e.Text):e.Text}e.fromString=t})(qe=S.TraceFormat||(S.TraceFormat={}));var No;(function(e){e.type=new k.NotificationType("$/setTrace")})(No=S.SetTraceNotification||(S.SetTraceNotification={}));var lr;(function(e){e.type=new k.NotificationType("$/logTrace")})(lr=S.LogTraceNotification||(S.LogTraceNotification={}));var yn;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(yn=S.ConnectionErrors||(S.ConnectionErrors={}));var ut=class extends Error{constructor(t,i){super(i);this.code=t,Object.setPrototypeOf(this,ut.prototype)}};S.ConnectionError=ut;var Oo;(function(e){function t(i){let r=i;return r&&oe.func(r.cancelUndispatched)}e.is=t})(Oo=S.ConnectionStrategy||(S.ConnectionStrategy={}));var dr;(function(e){e.Message=Object.freeze({createCancellationTokenSource(i){return new cr.CancellationTokenSource}});function t(i){let r=i;return r&&oe.func(r.createCancellationTokenSource)}e.is=t})(dr=S.CancellationReceiverStrategy||(S.CancellationReceiverStrategy={}));var fr;(function(e){e.Message=Object.freeze({sendCancellation(i,r){return i.sendNotification($t.type,{id:r})},cleanup(i){}});function t(i){let r=i;return r&&oe.func(r.sendCancellation)&&oe.func(r.cleanup)}e.is=t})(fr=S.CancellationSenderStrategy||(S.CancellationSenderStrategy={}));var pr;(function(e){e.Message=Object.freeze({receiver:dr.Message,sender:fr.Message});function t(i){let r=i;return r&&dr.is(r.receiver)&&fr.is(r.sender)}e.is=t})(pr=S.CancellationStrategy||(S.CancellationStrategy={}));var Fa;(function(e){function t(i){let r=i;return r&&(pr.is(r.cancellationStrategy)||Oo.is(r.connectionStrategy))}e.is=t})(Fa=S.ConnectionOptions||(S.ConnectionOptions={}));var xe;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(xe||(xe={}));function Wa(e,t,i,r){let n=i!==void 0?i:S.NullLogger,o=0,a=0,f=0,l="2.0",d,m=new Map,b,v=new Map,p=new Map,x,w=new xo.LinkedMap,L=new Map,O=new Set,I=new Map,M=$.Off,fe=qe.Text,U,pe=xe.New,Ce=new Ht.Emitter,Ge=new Ht.Emitter,rt=new Ht.Emitter,ht=new Ht.Emitter,jt=new Ht.Emitter,it=r&&r.cancellationStrategy?r.cancellationStrategy:pr.Message;function Le(c){if(c===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+c.toString()}function gt(c){return c===null?"res-unknown-"+(++f).toString():"res-"+c.toString()}function T(){return"not-"+(++a).toString()}function h(c,y){k.Message.isRequest(y)?c.set(Le(y.id),y):k.Message.isResponse(y)?c.set(gt(y.id),y):c.set(T(),y)}function R(c){}function _(){return pe===xe.Listening}function j(){return pe===xe.Closed}function N(){return pe===xe.Disposed}function A(){(pe===xe.New||pe===xe.Listening)&&(pe=xe.Closed,Ge.fire(void 0))}function te(c){Ce.fire([c,void 0,void 0])}function he(c){Ce.fire(c)}e.onClose(A),e.onError(te),t.onClose(A),t.onError(he);function _e(){x||w.size===0||(x=(0,qo.default)().timer.setImmediate(()=>{x=void 0,mt()}))}function mt(){if(w.size===0)return;let c=w.shift();try{k.Message.isRequest(c)?ea(c):k.Message.isNotification(c)?na(c):k.Message.isResponse(c)?ta(c):ra(c)}finally{_e()}}let Ze=c=>{try{if(k.Message.isNotification(c)&&c.method===$t.type.method){let y=c.params.id,P=Le(y),C=w.get(P);if(k.Message.isRequest(C)){let X=r==null?void 0:r.connectionStrategy,V=X&&X.cancelUndispatched?X.cancelUndispatched(C,R):R(C);if(V&&(V.error!==void 0||V.result!==void 0)){w.delete(P),I.delete(y),V.id=C.id,dn(V,c.method,Date.now()),t.write(V).catch(()=>n.error("Sending response for canceled message failed."));return}}let Q=I.get(y);if(Q!==void 0){Q.cancel(),Un(c);return}else O.add(y)}h(w,c)}finally{_e()}};function ea(c){var ae;if(N())return;function y(H,K,B){let ne={jsonrpc:l,id:c.id};H instanceof k.ResponseError?ne.error=H.toJson():ne.result=H===void 0?null:H,dn(ne,K,B),t.write(ne).catch(()=>n.error("Sending response failed."))}function P(H,K,B){let ne={jsonrpc:l,id:c.id,error:H.toJson()};dn(ne,K,B),t.write(ne).catch(()=>n.error("Sending response failed."))}function C(H,K,B){H===void 0&&(H=null);let ne={jsonrpc:l,id:c.id,result:H};dn(ne,K,B),t.write(ne).catch(()=>n.error("Sending response failed."))}sa(c);let Q=m.get(c.method),X,V;Q&&(X=Q.type,V=Q.handler);let se=Date.now();if(V||d){let H=(ae=c.id)!=null?ae:String(Date.now()),K=it.receiver.createCancellationTokenSource(H);c.id!==null&&O.has(c.id)&&K.cancel(),c.id!==null&&I.set(H,K);try{let B;if(V)if(c.params===void 0){if(X!==void 0&&X.numberOfParams!==0){P(new k.ResponseError(k.ErrorCodes.InvalidParams,`Request ${c.method} defines ${X.numberOfParams} params but received none.`),c.method,se);return}B=V(K.token)}else if(Array.isArray(c.params)){if(X!==void 0&&X.parameterStructures===k.ParameterStructures.byName){P(new k.ResponseError(k.ErrorCodes.InvalidParams,`Request ${c.method} defines parameters by name but received parameters by position`),c.method,se);return}B=V(...c.params,K.token)}else{if(X!==void 0&&X.parameterStructures===k.ParameterStructures.byPosition){P(new k.ResponseError(k.ErrorCodes.InvalidParams,`Request ${c.method} defines parameters by position but received parameters by name`),c.method,se);return}B=V(c.params,K.token)}else d&&(B=d(c.method,c.params,K.token));let ne=B;B?ne.then?ne.then(ve=>{I.delete(H),y(ve,c.method,se)},ve=>{I.delete(H),ve instanceof k.ResponseError?P(ve,c.method,se):ve&&oe.string(ve.message)?P(new k.ResponseError(k.ErrorCodes.InternalError,`Request ${c.method} failed with message: ${ve.message}`),c.method,se):P(new k.ResponseError(k.ErrorCodes.InternalError,`Request ${c.method} failed unexpectedly without providing any details.`),c.method,se)}):(I.delete(H),y(B,c.method,se)):(I.delete(H),C(B,c.method,se))}catch(B){I.delete(H),B instanceof k.ResponseError?y(B,c.method,se):B&&oe.string(B.message)?P(new k.ResponseError(k.ErrorCodes.InternalError,`Request ${c.method} failed with message: ${B.message}`),c.method,se):P(new k.ResponseError(k.ErrorCodes.InternalError,`Request ${c.method} failed unexpectedly without providing any details.`),c.method,se)}}else P(new k.ResponseError(k.ErrorCodes.MethodNotFound,`Unhandled method ${c.method}`),c.method,se)}function ta(c){if(!N())if(c.id===null)c.error?n.error(`Received response message without id: Error is: 
${JSON.stringify(c.error,void 0,4)}`):n.error("Received response message without id. No further error information provided.");else{let y=c.id,P=L.get(y);if(aa(c,P),P!==void 0){L.delete(y);try{if(c.error){let C=c.error;P.reject(new k.ResponseError(C.code,C.message,C.data))}else if(c.result!==void 0)P.resolve(c.result);else throw new Error("Should never happen.")}catch(C){C.message?n.error(`Response handler '${P.method}' failed with message: ${C.message}`):n.error(`Response handler '${P.method}' failed unexpectedly.`)}}}}function na(c){if(N())return;let y,P;if(c.method===$t.type.method){let C=c.params.id;O.delete(C),Un(c);return}else{let C=v.get(c.method);C&&(P=C.handler,y=C.type)}if(P||b)try{if(Un(c),P)if(c.params===void 0)y!==void 0&&y.numberOfParams!==0&&y.parameterStructures!==k.ParameterStructures.byName&&n.error(`Notification ${c.method} defines ${y.numberOfParams} params but received none.`),P();else if(Array.isArray(c.params)){let C=c.params;c.method===zt.type.method&&C.length===2&&So.is(C[0])?P({token:C[0],value:C[1]}):(y!==void 0&&(y.parameterStructures===k.ParameterStructures.byName&&n.error(`Notification ${c.method} defines parameters by name but received parameters by position`),y.numberOfParams!==c.params.length&&n.error(`Notification ${c.method} defines ${y.numberOfParams} params but received ${C.length} arguments`)),P(...C))}else y!==void 0&&y.parameterStructures===k.ParameterStructures.byPosition&&n.error(`Notification ${c.method} defines parameters by position but received parameters by name`),P(c.params);else b&&b(c.method,c.params)}catch(C){C.message?n.error(`Notification handler '${c.method}' failed with message: ${C.message}`):n.error(`Notification handler '${c.method}' failed unexpectedly.`)}else rt.fire(c)}function ra(c){if(!c){n.error("Received empty message.");return}n.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(c,null,4)}`);let y=c;if(oe.string(y.id)||oe.number(y.id)){let P=y.id,C=L.get(P);C&&C.reject(new Error("The received response has neither a result nor an error property."))}}function Ye(c){if(c!=null)switch(M){case $.Verbose:return JSON.stringify(c,null,4);case $.Compact:return JSON.stringify(c);default:return}}function ia(c){if(!(M===$.Off||!U))if(fe===qe.Text){let y;(M===$.Verbose||M===$.Compact)&&c.params&&(y=`Params: ${Ye(c.params)}

`),U.log(`Sending request '${c.method} - (${c.id})'.`,y)}else yt("send-request",c)}function oa(c){if(!(M===$.Off||!U))if(fe===qe.Text){let y;(M===$.Verbose||M===$.Compact)&&(c.params?y=`Params: ${Ye(c.params)}

`:y=`No parameters provided.

`),U.log(`Sending notification '${c.method}'.`,y)}else yt("send-notification",c)}function dn(c,y,P){if(!(M===$.Off||!U))if(fe===qe.Text){let C;(M===$.Verbose||M===$.Compact)&&(c.error&&c.error.data?C=`Error data: ${Ye(c.error.data)}

`:c.result?C=`Result: ${Ye(c.result)}

`:c.error===void 0&&(C=`No result returned.

`)),U.log(`Sending response '${y} - (${c.id})'. Processing request took ${Date.now()-P}ms`,C)}else yt("send-response",c)}function sa(c){if(!(M===$.Off||!U))if(fe===qe.Text){let y;(M===$.Verbose||M===$.Compact)&&c.params&&(y=`Params: ${Ye(c.params)}

`),U.log(`Received request '${c.method} - (${c.id})'.`,y)}else yt("receive-request",c)}function Un(c){if(!(M===$.Off||!U||c.method===lr.type.method))if(fe===qe.Text){let y;(M===$.Verbose||M===$.Compact)&&(c.params?y=`Params: ${Ye(c.params)}

`:y=`No parameters provided.

`),U.log(`Received notification '${c.method}'.`,y)}else yt("receive-notification",c)}function aa(c,y){if(!(M===$.Off||!U))if(fe===qe.Text){let P;if((M===$.Verbose||M===$.Compact)&&(c.error&&c.error.data?P=`Error data: ${Ye(c.error.data)}

`:c.result?P=`Result: ${Ye(c.result)}

`:c.error===void 0&&(P=`No result returned.

`)),y){let C=c.error?` Request failed: ${c.error.message} (${c.error.code}).`:"";U.log(`Received response '${y.method} - (${c.id})' in ${Date.now()-y.timerStart}ms.${C}`,P)}else U.log(`Received response ${c.id} without active response promise.`,P)}else yt("receive-response",c)}function yt(c,y){if(!U||M===$.Off)return;let P={isLSPMessage:!0,type:c,message:y,timestamp:Date.now()};U.log(P)}function Lt(){if(j())throw new ut(yn.Closed,"Connection is closed.");if(N())throw new ut(yn.Disposed,"Connection is disposed.")}function ca(){if(_())throw new ut(yn.AlreadyListening,"Connection is already listening")}function ua(){if(!_())throw new Error("Call listen() first.")}function At(c){return c===void 0?null:c}function Si(c){if(c!==null)return c}function ki(c){return c!=null&&!Array.isArray(c)&&typeof c=="object"}function Hn(c,y){switch(c){case k.ParameterStructures.auto:return ki(y)?Si(y):[At(y)];case k.ParameterStructures.byName:if(!ki(y))throw new Error("Received parameters by name but param is not an object literal.");return Si(y);case k.ParameterStructures.byPosition:return[At(y)];default:throw new Error(`Unknown parameter structure ${c.toString()}`)}}function Ni(c,y){let P,C=c.numberOfParams;switch(C){case 0:P=void 0;break;case 1:P=Hn(c.parameterStructures,y[0]);break;default:P=[];for(let Q=0;Q<y.length&&Q<C;Q++)P.push(At(y[Q]));if(y.length<C)for(let Q=y.length;Q<C;Q++)P.push(null);break}return P}let vt={sendNotification:(c,...y)=>{Lt();let P,C;if(oe.string(c)){P=c;let X=y[0],V=0,se=k.ParameterStructures.auto;k.ParameterStructures.is(X)&&(V=1,se=X);let ae=y.length,H=ae-V;switch(H){case 0:C=void 0;break;case 1:C=Hn(se,y[V]);break;default:if(se===k.ParameterStructures.byName)throw new Error(`Received ${H} parameters for 'by Name' notification parameter structure.`);C=y.slice(V,ae).map(K=>At(K));break}}else{let X=y;P=c.method,C=Ni(c,X)}let Q={jsonrpc:l,method:P,params:C};return oa(Q),t.write(Q).catch(()=>n.error("Sending notification failed."))},onNotification:(c,y)=>{Lt();let P;return oe.func(c)?b=c:y&&(oe.string(c)?(P=c,v.set(c,{type:void 0,handler:y})):(P=c.method,v.set(c.method,{type:c,handler:y}))),{dispose:()=>{P!==void 0?v.delete(P):b=void 0}}},onProgress:(c,y,P)=>{if(p.has(y))throw new Error(`Progress handler for token ${y} already registered`);return p.set(y,P),{dispose:()=>{p.delete(y)}}},sendProgress:(c,y,P)=>vt.sendNotification(zt.type,{token:y,value:P}),onUnhandledProgress:ht.event,sendRequest:(c,...y)=>{Lt(),ua();let P,C,Q;if(oe.string(c)){P=c;let ae=y[0],H=y[y.length-1],K=0,B=k.ParameterStructures.auto;k.ParameterStructures.is(ae)&&(K=1,B=ae);let ne=y.length;cr.CancellationToken.is(H)&&(ne=ne-1,Q=H);let ve=ne-K;switch(ve){case 0:C=void 0;break;case 1:C=Hn(B,y[K]);break;default:if(B===k.ParameterStructures.byName)throw new Error(`Received ${ve} parameters for 'by Name' request parameter structure.`);C=y.slice(K,ne).map(Ke=>At(Ke));break}}else{let ae=y;P=c.method,C=Ni(c,ae);let H=c.numberOfParams;Q=cr.CancellationToken.is(ae[H])?ae[H]:void 0}let X=o++,V;return Q&&(V=Q.onCancellationRequested(()=>{let ae=it.sender.sendCancellation(vt,X);return ae===void 0?(n.log(`Received no promise from cancellation strategy when cancelling id ${X}`),Promise.resolve()):ae.catch(()=>{n.log(`Sending cancellation messages for id ${X} failed`)})})),new Promise((ae,H)=>{let K={jsonrpc:l,id:X,method:P,params:C},B=Ke=>{ae(Ke),it.sender.cleanup(X),V==null||V.dispose()},ne=Ke=>{H(Ke),it.sender.cleanup(X),V==null||V.dispose()},ve={method:P,timerStart:Date.now(),resolve:B,reject:ne};ia(K);try{t.write(K).catch(()=>n.error("Sending request failed."))}catch(Ke){ve.reject(new k.ResponseError(k.ErrorCodes.MessageWriteError,Ke.message?Ke.message:"Unknown reason")),ve=null}ve&&L.set(X,ve)})},onRequest:(c,y)=>{Lt();let P=null;return ur.is(c)?(P=void 0,d=c):oe.string(c)?(P=null,y!==void 0&&(P=c,m.set(c,{handler:y,type:void 0}))):y!==void 0&&(P=c.method,m.set(c.method,{type:c,handler:y})),{dispose:()=>{P!==null&&(P!==void 0?m.delete(P):d=void 0)}}},hasPendingResponse:()=>L.size>0,trace:async(c,y,P)=>{let C=!1,Q=qe.Text;P!==void 0&&(oe.boolean(P)?C=P:(C=P.sendNotification||!1,Q=P.traceFormat||qe.Text)),M=c,fe=Q,M===$.Off?U=void 0:U=y,C&&!j()&&!N()&&await vt.sendNotification(No.type,{value:$.toString(c)})},onError:Ce.event,onClose:Ge.event,onUnhandledNotification:rt.event,onDispose:jt.event,end:()=>{t.end()},dispose:()=>{if(N())return;pe=xe.Disposed,jt.fire(void 0);let c=new k.ResponseError(k.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let y of L.values())y.reject(c);L=new Map,I=new Map,O=new Set,w=new xo.LinkedMap,oe.func(t.dispose)&&t.dispose(),oe.func(e.dispose)&&e.dispose()},listen:()=>{Lt(),ca(),pe=xe.Listening,e.listen(Ze)},inspect:()=>{(0,qo.default)().console.log("inspect")}};return vt.onNotification(lr.type,c=>{if(M===$.Off||!U)return;let y=M===$.Verbose||M===$.Compact;U.log(c.message,y?c.verbose:void 0)}),vt.onNotification(zt.type,c=>{let y=p.get(c.token);y?y(c.value):ht.fire(c)}),vt}S.createMessageConnection=Wa});var yr=E(g=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});g.TraceFormat=g.TraceValues=g.Trace=g.ProgressType=g.ProgressToken=g.createMessageConnection=g.NullLogger=g.ConnectionOptions=g.ConnectionStrategy=g.WriteableStreamMessageWriter=g.AbstractMessageWriter=g.MessageWriter=g.ReadableStreamMessageReader=g.AbstractMessageReader=g.MessageReader=g.CancellationToken=g.CancellationTokenSource=g.Emitter=g.Event=g.Disposable=g.LRUCache=g.Touch=g.LinkedMap=g.ParameterStructures=g.NotificationType9=g.NotificationType8=g.NotificationType7=g.NotificationType6=g.NotificationType5=g.NotificationType4=g.NotificationType3=g.NotificationType2=g.NotificationType1=g.NotificationType0=g.NotificationType=g.ErrorCodes=g.ResponseError=g.RequestType9=g.RequestType8=g.RequestType7=g.RequestType6=g.RequestType5=g.RequestType4=g.RequestType3=g.RequestType2=g.RequestType1=g.RequestType0=g.RequestType=g.Message=g.RAL=void 0;g.CancellationStrategy=g.CancellationSenderStrategy=g.CancellationReceiverStrategy=g.ConnectionError=g.ConnectionErrors=g.LogTraceNotification=g.SetTraceNotification=void 0;var J=Xn();Object.defineProperty(g,"Message",{enumerable:!0,get:function(){return J.Message}});Object.defineProperty(g,"RequestType",{enumerable:!0,get:function(){return J.RequestType}});Object.defineProperty(g,"RequestType0",{enumerable:!0,get:function(){return J.RequestType0}});Object.defineProperty(g,"RequestType1",{enumerable:!0,get:function(){return J.RequestType1}});Object.defineProperty(g,"RequestType2",{enumerable:!0,get:function(){return J.RequestType2}});Object.defineProperty(g,"RequestType3",{enumerable:!0,get:function(){return J.RequestType3}});Object.defineProperty(g,"RequestType4",{enumerable:!0,get:function(){return J.RequestType4}});Object.defineProperty(g,"RequestType5",{enumerable:!0,get:function(){return J.RequestType5}});Object.defineProperty(g,"RequestType6",{enumerable:!0,get:function(){return J.RequestType6}});Object.defineProperty(g,"RequestType7",{enumerable:!0,get:function(){return J.RequestType7}});Object.defineProperty(g,"RequestType8",{enumerable:!0,get:function(){return J.RequestType8}});Object.defineProperty(g,"RequestType9",{enumerable:!0,get:function(){return J.RequestType9}});Object.defineProperty(g,"ResponseError",{enumerable:!0,get:function(){return J.ResponseError}});Object.defineProperty(g,"ErrorCodes",{enumerable:!0,get:function(){return J.ErrorCodes}});Object.defineProperty(g,"NotificationType",{enumerable:!0,get:function(){return J.NotificationType}});Object.defineProperty(g,"NotificationType0",{enumerable:!0,get:function(){return J.NotificationType0}});Object.defineProperty(g,"NotificationType1",{enumerable:!0,get:function(){return J.NotificationType1}});Object.defineProperty(g,"NotificationType2",{enumerable:!0,get:function(){return J.NotificationType2}});Object.defineProperty(g,"NotificationType3",{enumerable:!0,get:function(){return J.NotificationType3}});Object.defineProperty(g,"NotificationType4",{enumerable:!0,get:function(){return J.NotificationType4}});Object.defineProperty(g,"NotificationType5",{enumerable:!0,get:function(){return J.NotificationType5}});Object.defineProperty(g,"NotificationType6",{enumerable:!0,get:function(){return J.NotificationType6}});Object.defineProperty(g,"NotificationType7",{enumerable:!0,get:function(){return J.NotificationType7}});Object.defineProperty(g,"NotificationType8",{enumerable:!0,get:function(){return J.NotificationType8}});Object.defineProperty(g,"NotificationType9",{enumerable:!0,get:function(){return J.NotificationType9}});Object.defineProperty(g,"ParameterStructures",{enumerable:!0,get:function(){return J.ParameterStructures}});var hr=Zn();Object.defineProperty(g,"LinkedMap",{enumerable:!0,get:function(){return hr.LinkedMap}});Object.defineProperty(g,"LRUCache",{enumerable:!0,get:function(){return hr.LRUCache}});Object.defineProperty(g,"Touch",{enumerable:!0,get:function(){return hr.Touch}});var Ua=Bn();Object.defineProperty(g,"Disposable",{enumerable:!0,get:function(){return Ua.Disposable}});var Mo=Rt();Object.defineProperty(g,"Event",{enumerable:!0,get:function(){return Mo.Event}});Object.defineProperty(g,"Emitter",{enumerable:!0,get:function(){return Mo.Emitter}});var jo=tr();Object.defineProperty(g,"CancellationTokenSource",{enumerable:!0,get:function(){return jo.CancellationTokenSource}});Object.defineProperty(g,"CancellationToken",{enumerable:!0,get:function(){return jo.CancellationToken}});var gr=bo();Object.defineProperty(g,"MessageReader",{enumerable:!0,get:function(){return gr.MessageReader}});Object.defineProperty(g,"AbstractMessageReader",{enumerable:!0,get:function(){return gr.AbstractMessageReader}});Object.defineProperty(g,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return gr.ReadableStreamMessageReader}});var mr=Co();Object.defineProperty(g,"MessageWriter",{enumerable:!0,get:function(){return mr.MessageWriter}});Object.defineProperty(g,"AbstractMessageWriter",{enumerable:!0,get:function(){return mr.AbstractMessageWriter}});Object.defineProperty(g,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return mr.WriteableStreamMessageWriter}});var me=Eo();Object.defineProperty(g,"ConnectionStrategy",{enumerable:!0,get:function(){return me.ConnectionStrategy}});Object.defineProperty(g,"ConnectionOptions",{enumerable:!0,get:function(){return me.ConnectionOptions}});Object.defineProperty(g,"NullLogger",{enumerable:!0,get:function(){return me.NullLogger}});Object.defineProperty(g,"createMessageConnection",{enumerable:!0,get:function(){return me.createMessageConnection}});Object.defineProperty(g,"ProgressToken",{enumerable:!0,get:function(){return me.ProgressToken}});Object.defineProperty(g,"ProgressType",{enumerable:!0,get:function(){return me.ProgressType}});Object.defineProperty(g,"Trace",{enumerable:!0,get:function(){return me.Trace}});Object.defineProperty(g,"TraceValues",{enumerable:!0,get:function(){return me.TraceValues}});Object.defineProperty(g,"TraceFormat",{enumerable:!0,get:function(){return me.TraceFormat}});Object.defineProperty(g,"SetTraceNotification",{enumerable:!0,get:function(){return me.SetTraceNotification}});Object.defineProperty(g,"LogTraceNotification",{enumerable:!0,get:function(){return me.LogTraceNotification}});Object.defineProperty(g,"ConnectionErrors",{enumerable:!0,get:function(){return me.ConnectionErrors}});Object.defineProperty(g,"ConnectionError",{enumerable:!0,get:function(){return me.ConnectionError}});Object.defineProperty(g,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return me.CancellationReceiverStrategy}});Object.defineProperty(g,"CancellationSenderStrategy",{enumerable:!0,get:function(){return me.CancellationSenderStrategy}});Object.defineProperty(g,"CancellationStrategy",{enumerable:!0,get:function(){return me.CancellationStrategy}});var Ha=ze();g.RAL=Ha.default});var lt=E(W=>{"use strict";var $a=W&&W.__createBinding||(Object.create?function(e,t,i,r){r===void 0&&(r=i);var n=Object.getOwnPropertyDescriptor(t,i);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,r,n)}:function(e,t,i,r){r===void 0&&(r=i),e[r]=t[i]}),za=W&&W.__exportStar||function(e,t){for(var i in e)i!=="default"&&!Object.prototype.hasOwnProperty.call(t,i)&&$a(t,e,i)};Object.defineProperty(W,"__esModule",{value:!0});W.createMessageConnection=W.createServerSocketTransport=W.createClientSocketTransport=W.createServerPipeTransport=W.createClientPipeTransport=W.generateRandomPipeName=W.StreamMessageWriter=W.StreamMessageReader=W.SocketMessageWriter=W.SocketMessageReader=W.IPCMessageWriter=W.IPCMessageReader=void 0;var Tt=Ui();Tt.default.install();var Ie=yr(),Lo=require("path"),Va=require("os"),Ba=require("crypto"),vn=require("net");za(yr(),W);var Ao=class extends Ie.AbstractMessageReader{constructor(t){super();this.process=t;let i=this.process;i.on("error",r=>this.fireError(r)),i.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),Ie.Disposable.create(()=>this.process.off("message",t))}};W.IPCMessageReader=Ao;var Io=class extends Ie.AbstractMessageWriter{constructor(t){super();this.process=t,this.errorCount=0;let i=this.process;i.on("error",r=>this.fireError(r)),i.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,i=>{i?(this.errorCount++,this.handleError(i,t)):this.errorCount=0}),Promise.resolve()}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,i){this.errorCount++,this.fireError(t,i,this.errorCount)}end(){}};W.IPCMessageWriter=Io;var _t=class extends Ie.ReadableStreamMessageReader{constructor(t,i="utf-8"){super((0,Tt.default)().stream.asReadableStream(t),i)}};W.SocketMessageReader=_t;var Pt=class extends Ie.WriteableStreamMessageWriter{constructor(t,i){super((0,Tt.default)().stream.asWritableStream(t),i);this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};W.SocketMessageWriter=Pt;var vr=class extends Ie.ReadableStreamMessageReader{constructor(t,i){super((0,Tt.default)().stream.asReadableStream(t),i)}};W.StreamMessageReader=vr;var br=class extends Ie.WriteableStreamMessageWriter{constructor(t,i){super((0,Tt.default)().stream.asWritableStream(t),i)}};W.StreamMessageWriter=br;var Fo=process.env.XDG_RUNTIME_DIR,Ja=new Map([["linux",107],["darwin",103]]);function Qa(){let e=(0,Ba.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;Fo?t=Lo.join(Fo,`vscode-ipc-${e}.sock`):t=Lo.join(Va.tmpdir(),`vscode-${e}.sock`);let i=Ja.get(process.platform);return i!==void 0&&t.length>=i&&(0,Tt.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${i} characters.`),t}W.generateRandomPipeName=Qa;function Xa(e,t="utf-8"){let i,r=new Promise((n,o)=>{i=n});return new Promise((n,o)=>{let a=(0,vn.createServer)(f=>{a.close(),i([new _t(f,t),new Pt(f,t)])});a.on("error",o),a.listen(e,()=>{a.removeListener("error",o),n({onConnected:()=>r})})})}W.createClientPipeTransport=Xa;function Ga(e,t="utf-8"){let i=(0,vn.createConnection)(e);return[new _t(i,t),new Pt(i,t)]}W.createServerPipeTransport=Ga;function Za(e,t="utf-8"){let i,r=new Promise((n,o)=>{i=n});return new Promise((n,o)=>{let a=(0,vn.createServer)(f=>{a.close(),i([new _t(f,t),new Pt(f,t)])});a.on("error",o),a.listen(e,"127.0.0.1",()=>{a.removeListener("error",o),n({onConnected:()=>r})})})}W.createClientSocketTransport=Za;function Ya(e,t="utf-8"){let i=(0,vn.createConnection)(e,"127.0.0.1");return[new _t(i,t),new Pt(i,t)]}W.createServerSocketTransport=Ya;function Ka(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}function ec(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}function tc(e,t,i,r){i||(i=Ie.NullLogger);let n=Ka(e)?new vr(e):e,o=ec(t)?new br(t):t;return Ie.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,Ie.createMessageConnection)(n,o,i,r)}W.createMessageConnection=tc});var Rr=E((Zl,Wo)=>{"use strict";Wo.exports=lt()});var qn={};Ei(qn,{AnnotatedTextEdit:()=>Qe,ChangeAnnotation:()=>ft,ChangeAnnotationIdentifier:()=>ue,CodeAction:()=>ei,CodeActionContext:()=>Kr,CodeActionKind:()=>Yr,CodeActionTriggerKind:()=>Zt,CodeDescription:()=>kr,CodeLens:()=>ti,Color:()=>Rn,ColorInformation:()=>Pr,ColorPresentation:()=>wr,Command:()=>dt,CompletionItem:()=>Wr,CompletionItemKind:()=>Mr,CompletionItemLabelDetails:()=>Fr,CompletionItemTag:()=>Lr,CompletionList:()=>Ur,CreateFile:()=>wt,DeleteFile:()=>qt,Diagnostic:()=>Jt,DiagnosticRelatedInformation:()=>Dn,DiagnosticSeverity:()=>xr,DiagnosticTag:()=>Sr,DocumentHighlight:()=>Br,DocumentHighlightKind:()=>Vr,DocumentLink:()=>ri,DocumentSymbol:()=>Zr,DocumentUri:()=>Dr,EOL:()=>rc,FoldingRange:()=>qr,FoldingRangeKind:()=>Cr,FormattingOptions:()=>ni,Hover:()=>Hr,InlayHint:()=>fi,InlayHintKind:()=>wn,InlayHintLabelPart:()=>Cn,InlineValueContext:()=>di,InlineValueEvaluatableExpression:()=>li,InlineValueText:()=>ci,InlineValueVariableLookup:()=>ui,InsertReplaceEdit:()=>Ar,InsertTextFormat:()=>jr,InsertTextMode:()=>Ir,Location:()=>Bt,LocationLink:()=>_r,MarkedString:()=>Gt,MarkupContent:()=>xt,MarkupKind:()=>Pn,OptionalVersionedTextDocumentIdentifier:()=>Xt,ParameterInformation:()=>$r,Position:()=>Pe,Range:()=>ee,RenameFile:()=>Ct,SelectionRange:()=>ii,SemanticTokenModifiers:()=>si,SemanticTokenTypes:()=>oi,SemanticTokens:()=>ai,SignatureInformation:()=>zr,SymbolInformation:()=>Xr,SymbolKind:()=>Jr,SymbolTag:()=>Qr,TextDocument:()=>hi,TextDocumentEdit:()=>Qt,TextDocumentIdentifier:()=>Nr,TextDocumentItem:()=>Er,TextEdit:()=>Fe,URI:()=>bn,VersionedTextDocumentIdentifier:()=>Or,WorkspaceChange:()=>nc,WorkspaceEdit:()=>Tn,WorkspaceFolder:()=>pi,WorkspaceSymbol:()=>Gr,integer:()=>Tr,uinteger:()=>Vt});var Dr,bn,Tr,Vt,Pe,ee,Bt,_r,Rn,Pr,wr,Cr,qr,Dn,xr,Sr,kr,Jt,dt,Fe,ft,ue,Qe,Qt,wt,Ct,qt,Tn,_n,Uo,nc,Nr,Or,Xt,Er,Pn,xt,Mr,jr,Lr,Ar,Ir,Fr,Wr,Ur,Gt,Hr,$r,zr,Vr,Br,Jr,Qr,Xr,Gr,Zr,Yr,Zt,Kr,ei,ti,ni,ri,ii,oi,si,ai,ci,ui,li,di,wn,Cn,fi,pi,rc,hi,ic,u,xn=ga(()=>{"use strict";(function(e){function t(i){return typeof i=="string"}e.is=t})(Dr||(Dr={}));(function(e){function t(i){return typeof i=="string"}e.is=t})(bn||(bn={}));(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(i){return typeof i=="number"&&e.MIN_VALUE<=i&&i<=e.MAX_VALUE}e.is=t})(Tr||(Tr={}));(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(i){return typeof i=="number"&&e.MIN_VALUE<=i&&i<=e.MAX_VALUE}e.is=t})(Vt||(Vt={}));(function(e){function t(r,n){return r===Number.MAX_VALUE&&(r=Vt.MAX_VALUE),n===Number.MAX_VALUE&&(n=Vt.MAX_VALUE),{line:r,character:n}}e.create=t;function i(r){var n=r;return u.objectLiteral(n)&&u.uinteger(n.line)&&u.uinteger(n.character)}e.is=i})(Pe||(Pe={}));(function(e){function t(r,n,o,a){if(u.uinteger(r)&&u.uinteger(n)&&u.uinteger(o)&&u.uinteger(a))return{start:Pe.create(r,n),end:Pe.create(o,a)};if(Pe.is(r)&&Pe.is(n))return{start:r,end:n};throw new Error("Range#create called with invalid arguments[".concat(r,", ").concat(n,", ").concat(o,", ").concat(a,"]"))}e.create=t;function i(r){var n=r;return u.objectLiteral(n)&&Pe.is(n.start)&&Pe.is(n.end)}e.is=i})(ee||(ee={}));(function(e){function t(r,n){return{uri:r,range:n}}e.create=t;function i(r){var n=r;return u.objectLiteral(n)&&ee.is(n.range)&&(u.string(n.uri)||u.undefined(n.uri))}e.is=i})(Bt||(Bt={}));(function(e){function t(r,n,o,a){return{targetUri:r,targetRange:n,targetSelectionRange:o,originSelectionRange:a}}e.create=t;function i(r){var n=r;return u.objectLiteral(n)&&ee.is(n.targetRange)&&u.string(n.targetUri)&&ee.is(n.targetSelectionRange)&&(ee.is(n.originSelectionRange)||u.undefined(n.originSelectionRange))}e.is=i})(_r||(_r={}));(function(e){function t(r,n,o,a){return{red:r,green:n,blue:o,alpha:a}}e.create=t;function i(r){var n=r;return u.objectLiteral(n)&&u.numberRange(n.red,0,1)&&u.numberRange(n.green,0,1)&&u.numberRange(n.blue,0,1)&&u.numberRange(n.alpha,0,1)}e.is=i})(Rn||(Rn={}));(function(e){function t(r,n){return{range:r,color:n}}e.create=t;function i(r){var n=r;return u.objectLiteral(n)&&ee.is(n.range)&&Rn.is(n.color)}e.is=i})(Pr||(Pr={}));(function(e){function t(r,n,o){return{label:r,textEdit:n,additionalTextEdits:o}}e.create=t;function i(r){var n=r;return u.objectLiteral(n)&&u.string(n.label)&&(u.undefined(n.textEdit)||Fe.is(n))&&(u.undefined(n.additionalTextEdits)||u.typedArray(n.additionalTextEdits,Fe.is))}e.is=i})(wr||(wr={}));(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Cr||(Cr={}));(function(e){function t(r,n,o,a,f,l){var d={startLine:r,endLine:n};return u.defined(o)&&(d.startCharacter=o),u.defined(a)&&(d.endCharacter=a),u.defined(f)&&(d.kind=f),u.defined(l)&&(d.collapsedText=l),d}e.create=t;function i(r){var n=r;return u.objectLiteral(n)&&u.uinteger(n.startLine)&&u.uinteger(n.startLine)&&(u.undefined(n.startCharacter)||u.uinteger(n.startCharacter))&&(u.undefined(n.endCharacter)||u.uinteger(n.endCharacter))&&(u.undefined(n.kind)||u.string(n.kind))}e.is=i})(qr||(qr={}));(function(e){function t(r,n){return{location:r,message:n}}e.create=t;function i(r){var n=r;return u.defined(n)&&Bt.is(n.location)&&u.string(n.message)}e.is=i})(Dn||(Dn={}));(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(xr||(xr={}));(function(e){e.Unnecessary=1,e.Deprecated=2})(Sr||(Sr={}));(function(e){function t(i){var r=i;return u.objectLiteral(r)&&u.string(r.href)}e.is=t})(kr||(kr={}));(function(e){function t(r,n,o,a,f,l){var d={range:r,message:n};return u.defined(o)&&(d.severity=o),u.defined(a)&&(d.code=a),u.defined(f)&&(d.source=f),u.defined(l)&&(d.relatedInformation=l),d}e.create=t;function i(r){var n,o=r;return u.defined(o)&&ee.is(o.range)&&u.string(o.message)&&(u.number(o.severity)||u.undefined(o.severity))&&(u.integer(o.code)||u.string(o.code)||u.undefined(o.code))&&(u.undefined(o.codeDescription)||u.string((n=o.codeDescription)===null||n===void 0?void 0:n.href))&&(u.string(o.source)||u.undefined(o.source))&&(u.undefined(o.relatedInformation)||u.typedArray(o.relatedInformation,Dn.is))}e.is=i})(Jt||(Jt={}));(function(e){function t(r,n){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var f={title:r,command:n};return u.defined(o)&&o.length>0&&(f.arguments=o),f}e.create=t;function i(r){var n=r;return u.defined(n)&&u.string(n.title)&&u.string(n.command)}e.is=i})(dt||(dt={}));(function(e){function t(o,a){return{range:o,newText:a}}e.replace=t;function i(o,a){return{range:{start:o,end:o},newText:a}}e.insert=i;function r(o){return{range:o,newText:""}}e.del=r;function n(o){var a=o;return u.objectLiteral(a)&&u.string(a.newText)&&ee.is(a.range)}e.is=n})(Fe||(Fe={}));(function(e){function t(r,n,o){var a={label:r};return n!==void 0&&(a.needsConfirmation=n),o!==void 0&&(a.description=o),a}e.create=t;function i(r){var n=r;return u.objectLiteral(n)&&u.string(n.label)&&(u.boolean(n.needsConfirmation)||n.needsConfirmation===void 0)&&(u.string(n.description)||n.description===void 0)}e.is=i})(ft||(ft={}));(function(e){function t(i){var r=i;return u.string(r)}e.is=t})(ue||(ue={}));(function(e){function t(o,a,f){return{range:o,newText:a,annotationId:f}}e.replace=t;function i(o,a,f){return{range:{start:o,end:o},newText:a,annotationId:f}}e.insert=i;function r(o,a){return{range:o,newText:"",annotationId:a}}e.del=r;function n(o){var a=o;return Fe.is(a)&&(ft.is(a.annotationId)||ue.is(a.annotationId))}e.is=n})(Qe||(Qe={}));(function(e){function t(r,n){return{textDocument:r,edits:n}}e.create=t;function i(r){var n=r;return u.defined(n)&&Xt.is(n.textDocument)&&Array.isArray(n.edits)}e.is=i})(Qt||(Qt={}));(function(e){function t(r,n,o){var a={kind:"create",uri:r};return n!==void 0&&(n.overwrite!==void 0||n.ignoreIfExists!==void 0)&&(a.options=n),o!==void 0&&(a.annotationId=o),a}e.create=t;function i(r){var n=r;return n&&n.kind==="create"&&u.string(n.uri)&&(n.options===void 0||(n.options.overwrite===void 0||u.boolean(n.options.overwrite))&&(n.options.ignoreIfExists===void 0||u.boolean(n.options.ignoreIfExists)))&&(n.annotationId===void 0||ue.is(n.annotationId))}e.is=i})(wt||(wt={}));(function(e){function t(r,n,o,a){var f={kind:"rename",oldUri:r,newUri:n};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(f.options=o),a!==void 0&&(f.annotationId=a),f}e.create=t;function i(r){var n=r;return n&&n.kind==="rename"&&u.string(n.oldUri)&&u.string(n.newUri)&&(n.options===void 0||(n.options.overwrite===void 0||u.boolean(n.options.overwrite))&&(n.options.ignoreIfExists===void 0||u.boolean(n.options.ignoreIfExists)))&&(n.annotationId===void 0||ue.is(n.annotationId))}e.is=i})(Ct||(Ct={}));(function(e){function t(r,n,o){var a={kind:"delete",uri:r};return n!==void 0&&(n.recursive!==void 0||n.ignoreIfNotExists!==void 0)&&(a.options=n),o!==void 0&&(a.annotationId=o),a}e.create=t;function i(r){var n=r;return n&&n.kind==="delete"&&u.string(n.uri)&&(n.options===void 0||(n.options.recursive===void 0||u.boolean(n.options.recursive))&&(n.options.ignoreIfNotExists===void 0||u.boolean(n.options.ignoreIfNotExists)))&&(n.annotationId===void 0||ue.is(n.annotationId))}e.is=i})(qt||(qt={}));(function(e){function t(i){var r=i;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(function(n){return u.string(n.kind)?wt.is(n)||Ct.is(n)||qt.is(n):Qt.is(n)}))}e.is=t})(Tn||(Tn={}));_n=function(){function e(t,i){this.edits=t,this.changeAnnotations=i}return e.prototype.insert=function(t,i,r){var n,o;if(r===void 0?n=Fe.insert(t,i):ue.is(r)?(o=r,n=Qe.insert(t,i,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),n=Qe.insert(t,i,o)),this.edits.push(n),o!==void 0)return o},e.prototype.replace=function(t,i,r){var n,o;if(r===void 0?n=Fe.replace(t,i):ue.is(r)?(o=r,n=Qe.replace(t,i,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),n=Qe.replace(t,i,o)),this.edits.push(n),o!==void 0)return o},e.prototype.delete=function(t,i){var r,n;if(i===void 0?r=Fe.del(t):ue.is(i)?(n=i,r=Qe.del(t,i)):(this.assertChangeAnnotations(this.changeAnnotations),n=this.changeAnnotations.manage(i),r=Qe.del(t,n)),this.edits.push(r),n!==void 0)return n},e.prototype.add=function(t){this.edits.push(t)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(t){if(t===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),Uo=function(){function e(t){this._annotations=t===void 0?Object.create(null):t,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(t,i){var r;if(ue.is(t)?r=t:(r=this.nextId(),i=t),this._annotations[r]!==void 0)throw new Error("Id ".concat(r," is already in use."));if(i===void 0)throw new Error("No annotation provided for id ".concat(r));return this._annotations[r]=i,this._size++,r},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),nc=function(){function e(t){var i=this;this._textEditChanges=Object.create(null),t!==void 0?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new Uo(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach(function(r){if(Qt.is(r)){var n=new _n(r.edits,i._changeAnnotations);i._textEditChanges[r.textDocument.uri]=n}})):t.changes&&Object.keys(t.changes).forEach(function(r){var n=new _n(t.changes[r]);i._textEditChanges[r]=n})):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(t){if(Xt.is(t)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i={uri:t.uri,version:t.version},r=this._textEditChanges[i.uri];if(!r){var n=[],o={textDocument:i,edits:n};this._workspaceEdit.documentChanges.push(o),r=new _n(n,this._changeAnnotations),this._textEditChanges[i.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var r=this._textEditChanges[t];if(!r){var n=[];this._workspaceEdit.changes[t]=n,r=new _n(n),this._textEditChanges[t]=r}return r}},e.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Uo,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(t,i,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var n;ft.is(i)||ue.is(i)?n=i:r=i;var o,a;if(n===void 0?o=wt.create(t,r):(a=ue.is(n)?n:this._changeAnnotations.manage(n),o=wt.create(t,r,a)),this._workspaceEdit.documentChanges.push(o),a!==void 0)return a},e.prototype.renameFile=function(t,i,r,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;ft.is(r)||ue.is(r)?o=r:n=r;var a,f;if(o===void 0?a=Ct.create(t,i,n):(f=ue.is(o)?o:this._changeAnnotations.manage(o),a=Ct.create(t,i,n,f)),this._workspaceEdit.documentChanges.push(a),f!==void 0)return f},e.prototype.deleteFile=function(t,i,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var n;ft.is(i)||ue.is(i)?n=i:r=i;var o,a;if(n===void 0?o=qt.create(t,r):(a=ue.is(n)?n:this._changeAnnotations.manage(n),o=qt.create(t,r,a)),this._workspaceEdit.documentChanges.push(o),a!==void 0)return a},e}();(function(e){function t(r){return{uri:r}}e.create=t;function i(r){var n=r;return u.defined(n)&&u.string(n.uri)}e.is=i})(Nr||(Nr={}));(function(e){function t(r,n){return{uri:r,version:n}}e.create=t;function i(r){var n=r;return u.defined(n)&&u.string(n.uri)&&u.integer(n.version)}e.is=i})(Or||(Or={}));(function(e){function t(r,n){return{uri:r,version:n}}e.create=t;function i(r){var n=r;return u.defined(n)&&u.string(n.uri)&&(n.version===null||u.integer(n.version))}e.is=i})(Xt||(Xt={}));(function(e){function t(r,n,o,a){return{uri:r,languageId:n,version:o,text:a}}e.create=t;function i(r){var n=r;return u.defined(n)&&u.string(n.uri)&&u.string(n.languageId)&&u.integer(n.version)&&u.string(n.text)}e.is=i})(Er||(Er={}));(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(i){var r=i;return r===e.PlainText||r===e.Markdown}e.is=t})(Pn||(Pn={}));(function(e){function t(i){var r=i;return u.objectLiteral(i)&&Pn.is(r.kind)&&u.string(r.value)}e.is=t})(xt||(xt={}));(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(Mr||(Mr={}));(function(e){e.PlainText=1,e.Snippet=2})(jr||(jr={}));(function(e){e.Deprecated=1})(Lr||(Lr={}));(function(e){function t(r,n,o){return{newText:r,insert:n,replace:o}}e.create=t;function i(r){var n=r;return n&&u.string(n.newText)&&ee.is(n.insert)&&ee.is(n.replace)}e.is=i})(Ar||(Ar={}));(function(e){e.asIs=1,e.adjustIndentation=2})(Ir||(Ir={}));(function(e){function t(i){var r=i;return r&&(u.string(r.detail)||r.detail===void 0)&&(u.string(r.description)||r.description===void 0)}e.is=t})(Fr||(Fr={}));(function(e){function t(i){return{label:i}}e.create=t})(Wr||(Wr={}));(function(e){function t(i,r){return{items:i||[],isIncomplete:!!r}}e.create=t})(Ur||(Ur={}));(function(e){function t(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function i(r){var n=r;return u.string(n)||u.objectLiteral(n)&&u.string(n.language)&&u.string(n.value)}e.is=i})(Gt||(Gt={}));(function(e){function t(i){var r=i;return!!r&&u.objectLiteral(r)&&(xt.is(r.contents)||Gt.is(r.contents)||u.typedArray(r.contents,Gt.is))&&(i.range===void 0||ee.is(i.range))}e.is=t})(Hr||(Hr={}));(function(e){function t(i,r){return r?{label:i,documentation:r}:{label:i}}e.create=t})($r||($r={}));(function(e){function t(i,r){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var a={label:i};return u.defined(r)&&(a.documentation=r),u.defined(n)?a.parameters=n:a.parameters=[],a}e.create=t})(zr||(zr={}));(function(e){e.Text=1,e.Read=2,e.Write=3})(Vr||(Vr={}));(function(e){function t(i,r){var n={range:i};return u.number(r)&&(n.kind=r),n}e.create=t})(Br||(Br={}));(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(Jr||(Jr={}));(function(e){e.Deprecated=1})(Qr||(Qr={}));(function(e){function t(i,r,n,o,a){var f={name:i,kind:r,location:{uri:o,range:n}};return a&&(f.containerName=a),f}e.create=t})(Xr||(Xr={}));(function(e){function t(i,r,n,o){return o!==void 0?{name:i,kind:r,location:{uri:n,range:o}}:{name:i,kind:r,location:{uri:n}}}e.create=t})(Gr||(Gr={}));(function(e){function t(r,n,o,a,f,l){var d={name:r,detail:n,kind:o,range:a,selectionRange:f};return l!==void 0&&(d.children=l),d}e.create=t;function i(r){var n=r;return n&&u.string(n.name)&&u.number(n.kind)&&ee.is(n.range)&&ee.is(n.selectionRange)&&(n.detail===void 0||u.string(n.detail))&&(n.deprecated===void 0||u.boolean(n.deprecated))&&(n.children===void 0||Array.isArray(n.children))&&(n.tags===void 0||Array.isArray(n.tags))}e.is=i})(Zr||(Zr={}));(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(Yr||(Yr={}));(function(e){e.Invoked=1,e.Automatic=2})(Zt||(Zt={}));(function(e){function t(r,n,o){var a={diagnostics:r};return n!=null&&(a.only=n),o!=null&&(a.triggerKind=o),a}e.create=t;function i(r){var n=r;return u.defined(n)&&u.typedArray(n.diagnostics,Jt.is)&&(n.only===void 0||u.typedArray(n.only,u.string))&&(n.triggerKind===void 0||n.triggerKind===Zt.Invoked||n.triggerKind===Zt.Automatic)}e.is=i})(Kr||(Kr={}));(function(e){function t(r,n,o){var a={title:r},f=!0;return typeof n=="string"?(f=!1,a.kind=n):dt.is(n)?a.command=n:a.edit=n,f&&o!==void 0&&(a.kind=o),a}e.create=t;function i(r){var n=r;return n&&u.string(n.title)&&(n.diagnostics===void 0||u.typedArray(n.diagnostics,Jt.is))&&(n.kind===void 0||u.string(n.kind))&&(n.edit!==void 0||n.command!==void 0)&&(n.command===void 0||dt.is(n.command))&&(n.isPreferred===void 0||u.boolean(n.isPreferred))&&(n.edit===void 0||Tn.is(n.edit))}e.is=i})(ei||(ei={}));(function(e){function t(r,n){var o={range:r};return u.defined(n)&&(o.data=n),o}e.create=t;function i(r){var n=r;return u.defined(n)&&ee.is(n.range)&&(u.undefined(n.command)||dt.is(n.command))}e.is=i})(ti||(ti={}));(function(e){function t(r,n){return{tabSize:r,insertSpaces:n}}e.create=t;function i(r){var n=r;return u.defined(n)&&u.uinteger(n.tabSize)&&u.boolean(n.insertSpaces)}e.is=i})(ni||(ni={}));(function(e){function t(r,n,o){return{range:r,target:n,data:o}}e.create=t;function i(r){var n=r;return u.defined(n)&&ee.is(n.range)&&(u.undefined(n.target)||u.string(n.target))}e.is=i})(ri||(ri={}));(function(e){function t(r,n){return{range:r,parent:n}}e.create=t;function i(r){var n=r;return u.objectLiteral(n)&&ee.is(n.range)&&(n.parent===void 0||e.is(n.parent))}e.is=i})(ii||(ii={}));(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(oi||(oi={}));(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(si||(si={}));(function(e){function t(i){var r=i;return u.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}e.is=t})(ai||(ai={}));(function(e){function t(r,n){return{range:r,text:n}}e.create=t;function i(r){var n=r;return n!=null&&ee.is(n.range)&&u.string(n.text)}e.is=i})(ci||(ci={}));(function(e){function t(r,n,o){return{range:r,variableName:n,caseSensitiveLookup:o}}e.create=t;function i(r){var n=r;return n!=null&&ee.is(n.range)&&u.boolean(n.caseSensitiveLookup)&&(u.string(n.variableName)||n.variableName===void 0)}e.is=i})(ui||(ui={}));(function(e){function t(r,n){return{range:r,expression:n}}e.create=t;function i(r){var n=r;return n!=null&&ee.is(n.range)&&(u.string(n.expression)||n.expression===void 0)}e.is=i})(li||(li={}));(function(e){function t(r,n){return{frameId:r,stoppedLocation:n}}e.create=t;function i(r){var n=r;return u.defined(n)&&ee.is(r.stoppedLocation)}e.is=i})(di||(di={}));(function(e){e.Type=1,e.Parameter=2;function t(i){return i===1||i===2}e.is=t})(wn||(wn={}));(function(e){function t(r){return{value:r}}e.create=t;function i(r){var n=r;return u.objectLiteral(n)&&(n.tooltip===void 0||u.string(n.tooltip)||xt.is(n.tooltip))&&(n.location===void 0||Bt.is(n.location))&&(n.command===void 0||dt.is(n.command))}e.is=i})(Cn||(Cn={}));(function(e){function t(r,n,o){var a={position:r,label:n};return o!==void 0&&(a.kind=o),a}e.create=t;function i(r){var n=r;return u.objectLiteral(n)&&Pe.is(n.position)&&(u.string(n.label)||u.typedArray(n.label,Cn.is))&&(n.kind===void 0||wn.is(n.kind))&&n.textEdits===void 0||u.typedArray(n.textEdits,Fe.is)&&(n.tooltip===void 0||u.string(n.tooltip)||xt.is(n.tooltip))&&(n.paddingLeft===void 0||u.boolean(n.paddingLeft))&&(n.paddingRight===void 0||u.boolean(n.paddingRight))}e.is=i})(fi||(fi={}));(function(e){function t(i){var r=i;return u.objectLiteral(r)&&bn.is(r.uri)&&u.string(r.name)}e.is=t})(pi||(pi={}));rc=[`
`,`\r
`,"\r"];(function(e){function t(o,a,f,l){return new ic(o,a,f,l)}e.create=t;function i(o){var a=o;return!!(u.defined(a)&&u.string(a.uri)&&(u.undefined(a.languageId)||u.string(a.languageId))&&u.uinteger(a.lineCount)&&u.func(a.getText)&&u.func(a.positionAt)&&u.func(a.offsetAt))}e.is=i;function r(o,a){for(var f=o.getText(),l=n(a,function(x,w){var L=x.range.start.line-w.range.start.line;return L===0?x.range.start.character-w.range.start.character:L}),d=f.length,m=l.length-1;m>=0;m--){var b=l[m],v=o.offsetAt(b.range.start),p=o.offsetAt(b.range.end);if(p<=d)f=f.substring(0,v)+b.newText+f.substring(p,f.length);else throw new Error("Overlapping edit");d=v}return f}e.applyEdits=r;function n(o,a){if(o.length<=1)return o;var f=o.length/2|0,l=o.slice(0,f),d=o.slice(f);n(l,a),n(d,a);for(var m=0,b=0,v=0;m<l.length&&b<d.length;){var p=a(l[m],d[b]);p<=0?o[v++]=l[m++]:o[v++]=d[b++]}for(;m<l.length;)o[v++]=l[m++];for(;b<d.length;)o[v++]=d[b++];return o}})(hi||(hi={}));ic=function(){function e(t,i,r,n){this._uri=t,this._languageId=i,this._version=r,this._content=n,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(t){if(t){var i=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(i,r)}return this._content},e.prototype.update=function(t,i){this._content=t.text,this._version=i,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var t=[],i=this._content,r=!0,n=0;n<i.length;n++){r&&(t.push(n),r=!1);var o=i.charAt(n);r=o==="\r"||o===`
`,o==="\r"&&n+1<i.length&&i.charAt(n+1)===`
`&&n++}r&&i.length>0&&t.push(i.length),this._lineOffsets=t}return this._lineOffsets},e.prototype.positionAt=function(t){t=Math.max(Math.min(t,this._content.length),0);var i=this.getLineOffsets(),r=0,n=i.length;if(n===0)return Pe.create(0,t);for(;r<n;){var o=Math.floor((r+n)/2);i[o]>t?n=o:r=o+1}var a=r-1;return Pe.create(a,t-i[a])},e.prototype.offsetAt=function(t){var i=this.getLineOffsets();if(t.line>=i.length)return this._content.length;if(t.line<0)return 0;var r=i[t.line],n=t.line+1<i.length?i[t.line+1]:this._content.length;return Math.max(Math.min(r+t.character,n),r)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}();(function(e){var t=Object.prototype.toString;function i(p){return typeof p!="undefined"}e.defined=i;function r(p){return typeof p=="undefined"}e.undefined=r;function n(p){return p===!0||p===!1}e.boolean=n;function o(p){return t.call(p)==="[object String]"}e.string=o;function a(p){return t.call(p)==="[object Number]"}e.number=a;function f(p,x,w){return t.call(p)==="[object Number]"&&x<=p&&p<=w}e.numberRange=f;function l(p){return t.call(p)==="[object Number]"&&-2147483648<=p&&p<=2147483647}e.integer=l;function d(p){return t.call(p)==="[object Number]"&&0<=p&&p<=2147483647}e.uinteger=d;function m(p){return t.call(p)==="[object Function]"}e.func=m;function b(p){return p!==null&&typeof p=="object"}e.objectLiteral=b;function v(p,x){return Array.isArray(p)&&p.every(x)}e.typedArray=v})(u||(u={}))});var Z=E(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.ProtocolNotificationType=Re.ProtocolNotificationType0=Re.ProtocolRequestType=Re.ProtocolRequestType0=Re.RegistrationType=Re.MessageDirection=void 0;var St=lt(),oc;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(oc=Re.MessageDirection||(Re.MessageDirection={}));var Ho=class{constructor(t){this.method=t}};Re.RegistrationType=Ho;var $o=class extends St.RequestType0{constructor(t){super(t)}};Re.ProtocolRequestType0=$o;var zo=class extends St.RequestType{constructor(t){super(t,St.ParameterStructures.byName)}};Re.ProtocolRequestType=zo;var Vo=class extends St.NotificationType0{constructor(t){super(t)}};Re.ProtocolNotificationType0=Vo;var Bo=class extends St.NotificationType{constructor(t){super(t,St.ParameterStructures.byName)}};Re.ProtocolNotificationType=Bo});var Sn=E(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.objectLiteral=re.typedArray=re.stringArray=re.array=re.func=re.error=re.number=re.string=re.boolean=void 0;function sc(e){return e===!0||e===!1}re.boolean=sc;function Jo(e){return typeof e=="string"||e instanceof String}re.string=Jo;function ac(e){return typeof e=="number"||e instanceof Number}re.number=ac;function cc(e){return e instanceof Error}re.error=cc;function uc(e){return typeof e=="function"}re.func=uc;function Qo(e){return Array.isArray(e)}re.array=Qo;function lc(e){return Qo(e)&&e.every(t=>Jo(t))}re.stringArray=lc;function dc(e,t){return Array.isArray(e)&&e.every(t)}re.typedArray=dc;function fc(e){return e!==null&&typeof e=="object"}re.objectLiteral=fc});var Go=E(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.ImplementationRequest=void 0;var Xo=Z(),pc;(function(e){e.method="textDocument/implementation",e.messageDirection=Xo.MessageDirection.clientToServer,e.type=new Xo.ProtocolRequestType(e.method)})(pc=Yt.ImplementationRequest||(Yt.ImplementationRequest={}))});var Yo=E(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.TypeDefinitionRequest=void 0;var Zo=Z(),hc;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=Zo.MessageDirection.clientToServer,e.type=new Zo.ProtocolRequestType(e.method)})(hc=Kt.TypeDefinitionRequest||(Kt.TypeDefinitionRequest={}))});var Ko=E(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.DidChangeWorkspaceFoldersNotification=et.WorkspaceFoldersRequest=void 0;var kn=Z(),gc;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=kn.MessageDirection.serverToClient,e.type=new kn.ProtocolRequestType0(e.method)})(gc=et.WorkspaceFoldersRequest||(et.WorkspaceFoldersRequest={}));var mc;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=kn.MessageDirection.clientToServer,e.type=new kn.ProtocolNotificationType(e.method)})(mc=et.DidChangeWorkspaceFoldersNotification||(et.DidChangeWorkspaceFoldersNotification={}))});var ts=E(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.ConfigurationRequest=void 0;var es=Z(),yc;(function(e){e.method="workspace/configuration",e.messageDirection=es.MessageDirection.serverToClient,e.type=new es.ProtocolRequestType(e.method)})(yc=en.ConfigurationRequest||(en.ConfigurationRequest={}))});var ns=E(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.ColorPresentationRequest=tt.DocumentColorRequest=void 0;var Nn=Z(),vc;(function(e){e.method="textDocument/documentColor",e.messageDirection=Nn.MessageDirection.clientToServer,e.type=new Nn.ProtocolRequestType(e.method)})(vc=tt.DocumentColorRequest||(tt.DocumentColorRequest={}));var bc;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=Nn.MessageDirection.clientToServer,e.type=new Nn.ProtocolRequestType(e.method)})(bc=tt.ColorPresentationRequest||(tt.ColorPresentationRequest={}))});var is=E(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.FoldingRangeRequest=void 0;var rs=Z(),Rc;(function(e){e.method="textDocument/foldingRange",e.messageDirection=rs.MessageDirection.clientToServer,e.type=new rs.ProtocolRequestType(e.method)})(Rc=tn.FoldingRangeRequest||(tn.FoldingRangeRequest={}))});var ss=E(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.DeclarationRequest=void 0;var os=Z(),Dc;(function(e){e.method="textDocument/declaration",e.messageDirection=os.MessageDirection.clientToServer,e.type=new os.ProtocolRequestType(e.method)})(Dc=nn.DeclarationRequest||(nn.DeclarationRequest={}))});var cs=E(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.SelectionRangeRequest=void 0;var as=Z(),Tc;(function(e){e.method="textDocument/selectionRange",e.messageDirection=as.MessageDirection.clientToServer,e.type=new as.ProtocolRequestType(e.method)})(Tc=rn.SelectionRangeRequest||(rn.SelectionRangeRequest={}))});var us=E(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.WorkDoneProgressCancelNotification=Se.WorkDoneProgressCreateRequest=Se.WorkDoneProgress=void 0;var _c=lt(),On=Z(),Pc;(function(e){e.type=new _c.ProgressType;function t(i){return i===e.type}e.is=t})(Pc=Se.WorkDoneProgress||(Se.WorkDoneProgress={}));var wc;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=On.MessageDirection.serverToClient,e.type=new On.ProtocolRequestType(e.method)})(wc=Se.WorkDoneProgressCreateRequest||(Se.WorkDoneProgressCreateRequest={}));var Cc;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=On.MessageDirection.clientToServer,e.type=new On.ProtocolNotificationType(e.method)})(Cc=Se.WorkDoneProgressCancelNotification||(Se.WorkDoneProgressCancelNotification={}))});var ls=E(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.CallHierarchyOutgoingCallsRequest=ke.CallHierarchyIncomingCallsRequest=ke.CallHierarchyPrepareRequest=void 0;var kt=Z(),qc;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=kt.MessageDirection.clientToServer,e.type=new kt.ProtocolRequestType(e.method)})(qc=ke.CallHierarchyPrepareRequest||(ke.CallHierarchyPrepareRequest={}));var xc;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=kt.MessageDirection.clientToServer,e.type=new kt.ProtocolRequestType(e.method)})(xc=ke.CallHierarchyIncomingCallsRequest||(ke.CallHierarchyIncomingCallsRequest={}));var Sc;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=kt.MessageDirection.clientToServer,e.type=new kt.ProtocolRequestType(e.method)})(Sc=ke.CallHierarchyOutgoingCallsRequest||(ke.CallHierarchyOutgoingCallsRequest={}))});var ds=E(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.SemanticTokensRefreshRequest=ie.SemanticTokensRangeRequest=ie.SemanticTokensDeltaRequest=ie.SemanticTokensRequest=ie.SemanticTokensRegistrationType=ie.TokenFormat=void 0;var Xe=Z(),kc;(function(e){e.Relative="relative"})(kc=ie.TokenFormat||(ie.TokenFormat={}));var En;(function(e){e.method="textDocument/semanticTokens",e.type=new Xe.RegistrationType(e.method)})(En=ie.SemanticTokensRegistrationType||(ie.SemanticTokensRegistrationType={}));var Nc;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=Xe.MessageDirection.clientToServer,e.type=new Xe.ProtocolRequestType(e.method),e.registrationMethod=En.method})(Nc=ie.SemanticTokensRequest||(ie.SemanticTokensRequest={}));var Oc;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=Xe.MessageDirection.clientToServer,e.type=new Xe.ProtocolRequestType(e.method),e.registrationMethod=En.method})(Oc=ie.SemanticTokensDeltaRequest||(ie.SemanticTokensDeltaRequest={}));var Ec;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=Xe.MessageDirection.clientToServer,e.type=new Xe.ProtocolRequestType(e.method),e.registrationMethod=En.method})(Ec=ie.SemanticTokensRangeRequest||(ie.SemanticTokensRangeRequest={}));var Mc;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=Xe.MessageDirection.clientToServer,e.type=new Xe.ProtocolRequestType0(e.method)})(Mc=ie.SemanticTokensRefreshRequest||(ie.SemanticTokensRefreshRequest={}))});var ps=E(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.ShowDocumentRequest=void 0;var fs=Z(),jc;(function(e){e.method="window/showDocument",e.messageDirection=fs.MessageDirection.serverToClient,e.type=new fs.ProtocolRequestType(e.method)})(jc=on.ShowDocumentRequest||(on.ShowDocumentRequest={}))});var gs=E(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.LinkedEditingRangeRequest=void 0;var hs=Z(),Lc;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=hs.MessageDirection.clientToServer,e.type=new hs.ProtocolRequestType(e.method)})(Lc=sn.LinkedEditingRangeRequest||(sn.LinkedEditingRangeRequest={}))});var ms=E(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.WillDeleteFilesRequest=Y.DidDeleteFilesNotification=Y.DidRenameFilesNotification=Y.WillRenameFilesRequest=Y.DidCreateFilesNotification=Y.WillCreateFilesRequest=Y.FileOperationPatternKind=void 0;var we=Z(),Ac;(function(e){e.file="file",e.folder="folder"})(Ac=Y.FileOperationPatternKind||(Y.FileOperationPatternKind={}));var Ic;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=we.MessageDirection.clientToServer,e.type=new we.ProtocolRequestType(e.method)})(Ic=Y.WillCreateFilesRequest||(Y.WillCreateFilesRequest={}));var Fc;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=we.MessageDirection.clientToServer,e.type=new we.ProtocolNotificationType(e.method)})(Fc=Y.DidCreateFilesNotification||(Y.DidCreateFilesNotification={}));var Wc;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=we.MessageDirection.clientToServer,e.type=new we.ProtocolRequestType(e.method)})(Wc=Y.WillRenameFilesRequest||(Y.WillRenameFilesRequest={}));var Uc;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=we.MessageDirection.clientToServer,e.type=new we.ProtocolNotificationType(e.method)})(Uc=Y.DidRenameFilesNotification||(Y.DidRenameFilesNotification={}));var Hc;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=we.MessageDirection.clientToServer,e.type=new we.ProtocolNotificationType(e.method)})(Hc=Y.DidDeleteFilesNotification||(Y.DidDeleteFilesNotification={}));var $c;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=we.MessageDirection.clientToServer,e.type=new we.ProtocolRequestType(e.method)})($c=Y.WillDeleteFilesRequest||(Y.WillDeleteFilesRequest={}))});var vs=E(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.MonikerRequest=Ne.MonikerKind=Ne.UniquenessLevel=void 0;var ys=Z(),zc;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(zc=Ne.UniquenessLevel||(Ne.UniquenessLevel={}));var Vc;(function(e){e.$import="import",e.$export="export",e.local="local"})(Vc=Ne.MonikerKind||(Ne.MonikerKind={}));var Bc;(function(e){e.method="textDocument/moniker",e.messageDirection=ys.MessageDirection.clientToServer,e.type=new ys.ProtocolRequestType(e.method)})(Bc=Ne.MonikerRequest||(Ne.MonikerRequest={}))});var bs=E(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.TypeHierarchySubtypesRequest=Oe.TypeHierarchySupertypesRequest=Oe.TypeHierarchyPrepareRequest=void 0;var Nt=Z(),Jc;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=Nt.MessageDirection.clientToServer,e.type=new Nt.ProtocolRequestType(e.method)})(Jc=Oe.TypeHierarchyPrepareRequest||(Oe.TypeHierarchyPrepareRequest={}));var Qc;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=Nt.MessageDirection.clientToServer,e.type=new Nt.ProtocolRequestType(e.method)})(Qc=Oe.TypeHierarchySupertypesRequest||(Oe.TypeHierarchySupertypesRequest={}));var Xc;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=Nt.MessageDirection.clientToServer,e.type=new Nt.ProtocolRequestType(e.method)})(Xc=Oe.TypeHierarchySubtypesRequest||(Oe.TypeHierarchySubtypesRequest={}))});var Rs=E(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.InlineValueRefreshRequest=nt.InlineValueRequest=void 0;var Mn=Z(),Gc;(function(e){e.method="textDocument/inlineValue",e.messageDirection=Mn.MessageDirection.clientToServer,e.type=new Mn.ProtocolRequestType(e.method)})(Gc=nt.InlineValueRequest||(nt.InlineValueRequest={}));var Zc;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=Mn.MessageDirection.clientToServer,e.type=new Mn.ProtocolRequestType0(e.method)})(Zc=nt.InlineValueRefreshRequest||(nt.InlineValueRefreshRequest={}))});var Ds=E(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.InlayHintRefreshRequest=Ee.InlayHintResolveRequest=Ee.InlayHintRequest=void 0;var Ot=Z(),Yc;(function(e){e.method="textDocument/inlayHint",e.messageDirection=Ot.MessageDirection.clientToServer,e.type=new Ot.ProtocolRequestType(e.method)})(Yc=Ee.InlayHintRequest||(Ee.InlayHintRequest={}));var Kc;(function(e){e.method="inlayHint/resolve",e.messageDirection=Ot.MessageDirection.clientToServer,e.type=new Ot.ProtocolRequestType(e.method)})(Kc=Ee.InlayHintResolveRequest||(Ee.InlayHintResolveRequest={}));var eu;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=Ot.MessageDirection.clientToServer,e.type=new Ot.ProtocolRequestType0(e.method)})(eu=Ee.InlayHintRefreshRequest||(Ee.InlayHintRefreshRequest={}))});var _s=E(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.DiagnosticRefreshRequest=le.WorkspaceDiagnosticRequest=le.DocumentDiagnosticRequest=le.DocumentDiagnosticReportKind=le.DiagnosticServerCancellationData=void 0;var Ts=lt(),tu=Sn(),Et=Z(),nu;(function(e){function t(i){let r=i;return r&&tu.boolean(r.retriggerRequest)}e.is=t})(nu=le.DiagnosticServerCancellationData||(le.DiagnosticServerCancellationData={}));var ru;(function(e){e.Full="full",e.Unchanged="unchanged"})(ru=le.DocumentDiagnosticReportKind||(le.DocumentDiagnosticReportKind={}));var iu;(function(e){e.method="textDocument/diagnostic",e.messageDirection=Et.MessageDirection.clientToServer,e.type=new Et.ProtocolRequestType(e.method),e.partialResult=new Ts.ProgressType})(iu=le.DocumentDiagnosticRequest||(le.DocumentDiagnosticRequest={}));var ou;(function(e){e.method="workspace/diagnostic",e.messageDirection=Et.MessageDirection.clientToServer,e.type=new Et.ProtocolRequestType(e.method),e.partialResult=new Ts.ProgressType})(ou=le.WorkspaceDiagnosticRequest||(le.WorkspaceDiagnosticRequest={}));var su;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=Et.MessageDirection.clientToServer,e.type=new Et.ProtocolRequestType0(e.method)})(su=le.DiagnosticRefreshRequest||(le.DiagnosticRefreshRequest={}))});var Cs=E(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.DidCloseNotebookDocumentNotification=F.DidSaveNotebookDocumentNotification=F.DidChangeNotebookDocumentNotification=F.NotebookCellArrayChange=F.DidOpenNotebookDocumentNotification=F.NotebookDocumentSyncRegistrationType=F.NotebookDocument=F.NotebookCell=F.ExecutionSummary=F.NotebookCellKind=void 0;var an=(xn(),pn(qn)),Me=Sn(),We=Z(),Ps;(function(e){e.Markup=1,e.Code=2;function t(i){return i===1||i===2}e.is=t})(Ps=F.NotebookCellKind||(F.NotebookCellKind={}));var ws;(function(e){function t(n,o){let a={executionOrder:n};return(o===!0||o===!1)&&(a.success=o),a}e.create=t;function i(n){let o=n;return Me.objectLiteral(o)&&an.uinteger.is(o.executionOrder)&&(o.success===void 0||Me.boolean(o.success))}e.is=i;function r(n,o){return n===o?!0:n==null||o===null||o===void 0?!1:n.executionOrder===o.executionOrder&&n.success===o.success}e.equals=r})(ws=F.ExecutionSummary||(F.ExecutionSummary={}));var gi;(function(e){function t(o,a){return{kind:o,document:a}}e.create=t;function i(o){let a=o;return Me.objectLiteral(a)&&Ps.is(a.kind)&&an.DocumentUri.is(a.document)&&(a.metadata===void 0||Me.objectLiteral(a.metadata))}e.is=i;function r(o,a){let f=new Set;return o.document!==a.document&&f.add("document"),o.kind!==a.kind&&f.add("kind"),o.executionSummary!==a.executionSummary&&f.add("executionSummary"),(o.metadata!==void 0||a.metadata!==void 0)&&!n(o.metadata,a.metadata)&&f.add("metadata"),(o.executionSummary!==void 0||a.executionSummary!==void 0)&&!ws.equals(o.executionSummary,a.executionSummary)&&f.add("executionSummary"),f}e.diff=r;function n(o,a){if(o===a)return!0;if(o==null||a===null||a===void 0||typeof o!=typeof a||typeof o!="object")return!1;let f=Array.isArray(o),l=Array.isArray(a);if(f!==l)return!1;if(f&&l){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++)if(!n(o[d],a[d]))return!1}if(Me.objectLiteral(o)&&Me.objectLiteral(a)){let d=Object.keys(o),m=Object.keys(a);if(d.length!==m.length||(d.sort(),m.sort(),!n(d,m)))return!1;for(let b=0;b<d.length;b++){let v=d[b];if(!n(o[v],a[v]))return!1}}return!0}})(gi=F.NotebookCell||(F.NotebookCell={}));var au;(function(e){function t(r,n,o,a){return{uri:r,notebookType:n,version:o,cells:a}}e.create=t;function i(r){let n=r;return Me.objectLiteral(n)&&Me.string(n.uri)&&an.integer.is(n.version)&&Me.typedArray(n.cells,gi.is)}e.is=i})(au=F.NotebookDocument||(F.NotebookDocument={}));var cn;(function(e){e.method="notebookDocument/sync",e.messageDirection=We.MessageDirection.clientToServer,e.type=new We.RegistrationType(e.method)})(cn=F.NotebookDocumentSyncRegistrationType||(F.NotebookDocumentSyncRegistrationType={}));var cu;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=We.MessageDirection.clientToServer,e.type=new We.ProtocolNotificationType(e.method),e.registrationMethod=cn.method})(cu=F.DidOpenNotebookDocumentNotification||(F.DidOpenNotebookDocumentNotification={}));var uu;(function(e){function t(r){let n=r;return Me.objectLiteral(n)&&an.uinteger.is(n.start)&&an.uinteger.is(n.deleteCount)&&(n.cells===void 0||Me.typedArray(n.cells,gi.is))}e.is=t;function i(r,n,o){let a={start:r,deleteCount:n};return o!==void 0&&(a.cells=o),a}e.create=i})(uu=F.NotebookCellArrayChange||(F.NotebookCellArrayChange={}));var lu;(function(e){e.method="notebookDocument/didChange",e.messageDirection=We.MessageDirection.clientToServer,e.type=new We.ProtocolNotificationType(e.method),e.registrationMethod=cn.method})(lu=F.DidChangeNotebookDocumentNotification||(F.DidChangeNotebookDocumentNotification={}));var du;(function(e){e.method="notebookDocument/didSave",e.messageDirection=We.MessageDirection.clientToServer,e.type=new We.ProtocolNotificationType(e.method),e.registrationMethod=cn.method})(du=F.DidSaveNotebookDocumentNotification||(F.DidSaveNotebookDocumentNotification={}));var fu;(function(e){e.method="notebookDocument/didClose",e.messageDirection=We.MessageDirection.clientToServer,e.type=new We.ProtocolNotificationType(e.method),e.registrationMethod=cn.method})(fu=F.DidCloseNotebookDocumentNotification||(F.DidCloseNotebookDocumentNotification={}))});var js=E(s=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});s.WorkspaceSymbolRequest=s.CodeActionResolveRequest=s.CodeActionRequest=s.DocumentSymbolRequest=s.DocumentHighlightRequest=s.ReferencesRequest=s.DefinitionRequest=s.SignatureHelpRequest=s.SignatureHelpTriggerKind=s.HoverRequest=s.CompletionResolveRequest=s.CompletionRequest=s.CompletionTriggerKind=s.PublishDiagnosticsNotification=s.WatchKind=s.RelativePattern=s.FileChangeType=s.DidChangeWatchedFilesNotification=s.WillSaveTextDocumentWaitUntilRequest=s.WillSaveTextDocumentNotification=s.TextDocumentSaveReason=s.DidSaveTextDocumentNotification=s.DidCloseTextDocumentNotification=s.DidChangeTextDocumentNotification=s.TextDocumentContentChangeEvent=s.DidOpenTextDocumentNotification=s.TextDocumentSyncKind=s.TelemetryEventNotification=s.LogMessageNotification=s.ShowMessageRequest=s.ShowMessageNotification=s.MessageType=s.DidChangeConfigurationNotification=s.ExitNotification=s.ShutdownRequest=s.InitializedNotification=s.InitializeErrorCodes=s.InitializeRequest=s.WorkDoneProgressOptions=s.TextDocumentRegistrationOptions=s.StaticRegistrationOptions=s.PositionEncodingKind=s.FailureHandlingKind=s.ResourceOperationKind=s.UnregistrationRequest=s.RegistrationRequest=s.DocumentSelector=s.NotebookCellTextDocumentFilter=s.NotebookDocumentFilter=s.TextDocumentFilter=void 0;s.TypeHierarchySubtypesRequest=s.TypeHierarchyPrepareRequest=s.MonikerRequest=s.MonikerKind=s.UniquenessLevel=s.WillDeleteFilesRequest=s.DidDeleteFilesNotification=s.WillRenameFilesRequest=s.DidRenameFilesNotification=s.WillCreateFilesRequest=s.DidCreateFilesNotification=s.FileOperationPatternKind=s.LinkedEditingRangeRequest=s.ShowDocumentRequest=s.SemanticTokensRegistrationType=s.SemanticTokensRefreshRequest=s.SemanticTokensRangeRequest=s.SemanticTokensDeltaRequest=s.SemanticTokensRequest=s.TokenFormat=s.CallHierarchyPrepareRequest=s.CallHierarchyOutgoingCallsRequest=s.CallHierarchyIncomingCallsRequest=s.WorkDoneProgressCancelNotification=s.WorkDoneProgressCreateRequest=s.WorkDoneProgress=s.SelectionRangeRequest=s.DeclarationRequest=s.FoldingRangeRequest=s.ColorPresentationRequest=s.DocumentColorRequest=s.ConfigurationRequest=s.DidChangeWorkspaceFoldersNotification=s.WorkspaceFoldersRequest=s.TypeDefinitionRequest=s.ImplementationRequest=s.ApplyWorkspaceEditRequest=s.ExecuteCommandRequest=s.PrepareRenameRequest=s.RenameRequest=s.PrepareSupportDefaultBehavior=s.DocumentOnTypeFormattingRequest=s.DocumentRangeFormattingRequest=s.DocumentFormattingRequest=s.DocumentLinkResolveRequest=s.DocumentLinkRequest=s.CodeLensRefreshRequest=s.CodeLensResolveRequest=s.CodeLensRequest=s.WorkspaceSymbolResolveRequest=void 0;s.DidCloseNotebookDocumentNotification=s.DidSaveNotebookDocumentNotification=s.DidChangeNotebookDocumentNotification=s.NotebookCellArrayChange=s.DidOpenNotebookDocumentNotification=s.NotebookDocumentSyncRegistrationType=s.NotebookDocument=s.NotebookCell=s.ExecutionSummary=s.NotebookCellKind=s.DiagnosticRefreshRequest=s.WorkspaceDiagnosticRequest=s.DocumentDiagnosticRequest=s.DocumentDiagnosticReportKind=s.DiagnosticServerCancellationData=s.InlayHintRefreshRequest=s.InlayHintResolveRequest=s.InlayHintRequest=s.InlineValueRefreshRequest=s.InlineValueRequest=s.TypeHierarchySupertypesRequest=void 0;var D=Z(),qs=(xn(),pn(qn)),de=Sn(),pu=Go();Object.defineProperty(s,"ImplementationRequest",{enumerable:!0,get:function(){return pu.ImplementationRequest}});var hu=Yo();Object.defineProperty(s,"TypeDefinitionRequest",{enumerable:!0,get:function(){return hu.TypeDefinitionRequest}});var xs=Ko();Object.defineProperty(s,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return xs.WorkspaceFoldersRequest}});Object.defineProperty(s,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return xs.DidChangeWorkspaceFoldersNotification}});var gu=ts();Object.defineProperty(s,"ConfigurationRequest",{enumerable:!0,get:function(){return gu.ConfigurationRequest}});var Ss=ns();Object.defineProperty(s,"DocumentColorRequest",{enumerable:!0,get:function(){return Ss.DocumentColorRequest}});Object.defineProperty(s,"ColorPresentationRequest",{enumerable:!0,get:function(){return Ss.ColorPresentationRequest}});var mu=is();Object.defineProperty(s,"FoldingRangeRequest",{enumerable:!0,get:function(){return mu.FoldingRangeRequest}});var yu=ss();Object.defineProperty(s,"DeclarationRequest",{enumerable:!0,get:function(){return yu.DeclarationRequest}});var vu=cs();Object.defineProperty(s,"SelectionRangeRequest",{enumerable:!0,get:function(){return vu.SelectionRangeRequest}});var mi=us();Object.defineProperty(s,"WorkDoneProgress",{enumerable:!0,get:function(){return mi.WorkDoneProgress}});Object.defineProperty(s,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return mi.WorkDoneProgressCreateRequest}});Object.defineProperty(s,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return mi.WorkDoneProgressCancelNotification}});var yi=ls();Object.defineProperty(s,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return yi.CallHierarchyIncomingCallsRequest}});Object.defineProperty(s,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return yi.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(s,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return yi.CallHierarchyPrepareRequest}});var Mt=ds();Object.defineProperty(s,"TokenFormat",{enumerable:!0,get:function(){return Mt.TokenFormat}});Object.defineProperty(s,"SemanticTokensRequest",{enumerable:!0,get:function(){return Mt.SemanticTokensRequest}});Object.defineProperty(s,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Mt.SemanticTokensDeltaRequest}});Object.defineProperty(s,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Mt.SemanticTokensRangeRequest}});Object.defineProperty(s,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Mt.SemanticTokensRefreshRequest}});Object.defineProperty(s,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Mt.SemanticTokensRegistrationType}});var bu=ps();Object.defineProperty(s,"ShowDocumentRequest",{enumerable:!0,get:function(){return bu.ShowDocumentRequest}});var Ru=gs();Object.defineProperty(s,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return Ru.LinkedEditingRangeRequest}});var pt=ms();Object.defineProperty(s,"FileOperationPatternKind",{enumerable:!0,get:function(){return pt.FileOperationPatternKind}});Object.defineProperty(s,"DidCreateFilesNotification",{enumerable:!0,get:function(){return pt.DidCreateFilesNotification}});Object.defineProperty(s,"WillCreateFilesRequest",{enumerable:!0,get:function(){return pt.WillCreateFilesRequest}});Object.defineProperty(s,"DidRenameFilesNotification",{enumerable:!0,get:function(){return pt.DidRenameFilesNotification}});Object.defineProperty(s,"WillRenameFilesRequest",{enumerable:!0,get:function(){return pt.WillRenameFilesRequest}});Object.defineProperty(s,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return pt.DidDeleteFilesNotification}});Object.defineProperty(s,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return pt.WillDeleteFilesRequest}});var vi=vs();Object.defineProperty(s,"UniquenessLevel",{enumerable:!0,get:function(){return vi.UniquenessLevel}});Object.defineProperty(s,"MonikerKind",{enumerable:!0,get:function(){return vi.MonikerKind}});Object.defineProperty(s,"MonikerRequest",{enumerable:!0,get:function(){return vi.MonikerRequest}});var bi=bs();Object.defineProperty(s,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return bi.TypeHierarchyPrepareRequest}});Object.defineProperty(s,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return bi.TypeHierarchySubtypesRequest}});Object.defineProperty(s,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return bi.TypeHierarchySupertypesRequest}});var ks=Rs();Object.defineProperty(s,"InlineValueRequest",{enumerable:!0,get:function(){return ks.InlineValueRequest}});Object.defineProperty(s,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return ks.InlineValueRefreshRequest}});var Ri=Ds();Object.defineProperty(s,"InlayHintRequest",{enumerable:!0,get:function(){return Ri.InlayHintRequest}});Object.defineProperty(s,"InlayHintResolveRequest",{enumerable:!0,get:function(){return Ri.InlayHintResolveRequest}});Object.defineProperty(s,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return Ri.InlayHintRefreshRequest}});var un=_s();Object.defineProperty(s,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return un.DiagnosticServerCancellationData}});Object.defineProperty(s,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return un.DocumentDiagnosticReportKind}});Object.defineProperty(s,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return un.DocumentDiagnosticRequest}});Object.defineProperty(s,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return un.WorkspaceDiagnosticRequest}});Object.defineProperty(s,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return un.DiagnosticRefreshRequest}});var Ue=Cs();Object.defineProperty(s,"NotebookCellKind",{enumerable:!0,get:function(){return Ue.NotebookCellKind}});Object.defineProperty(s,"ExecutionSummary",{enumerable:!0,get:function(){return Ue.ExecutionSummary}});Object.defineProperty(s,"NotebookCell",{enumerable:!0,get:function(){return Ue.NotebookCell}});Object.defineProperty(s,"NotebookDocument",{enumerable:!0,get:function(){return Ue.NotebookDocument}});Object.defineProperty(s,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return Ue.NotebookDocumentSyncRegistrationType}});Object.defineProperty(s,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return Ue.DidOpenNotebookDocumentNotification}});Object.defineProperty(s,"NotebookCellArrayChange",{enumerable:!0,get:function(){return Ue.NotebookCellArrayChange}});Object.defineProperty(s,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return Ue.DidChangeNotebookDocumentNotification}});Object.defineProperty(s,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return Ue.DidSaveNotebookDocumentNotification}});Object.defineProperty(s,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return Ue.DidCloseNotebookDocumentNotification}});var Ns;(function(e){function t(i){let r=i;return de.string(r.language)||de.string(r.scheme)||de.string(r.pattern)}e.is=t})(Ns=s.TextDocumentFilter||(s.TextDocumentFilter={}));var Os;(function(e){function t(i){let r=i;return de.objectLiteral(r)&&(de.string(r.notebookType)||de.string(r.scheme)||de.string(r.pattern))}e.is=t})(Os=s.NotebookDocumentFilter||(s.NotebookDocumentFilter={}));var Es;(function(e){function t(i){let r=i;return de.objectLiteral(r)&&(de.string(r.notebook)||Os.is(r.notebook))&&(r.language===void 0||de.string(r.language))}e.is=t})(Es=s.NotebookCellTextDocumentFilter||(s.NotebookCellTextDocumentFilter={}));var Ms;(function(e){function t(i){if(!Array.isArray(i))return!1;for(let r of i)if(!de.string(r)&&!Ns.is(r)&&!Es.is(r))return!1;return!0}e.is=t})(Ms=s.DocumentSelector||(s.DocumentSelector={}));var Du;(function(e){e.method="client/registerCapability",e.messageDirection=D.MessageDirection.serverToClient,e.type=new D.ProtocolRequestType(e.method)})(Du=s.RegistrationRequest||(s.RegistrationRequest={}));var Tu;(function(e){e.method="client/unregisterCapability",e.messageDirection=D.MessageDirection.serverToClient,e.type=new D.ProtocolRequestType(e.method)})(Tu=s.UnregistrationRequest||(s.UnregistrationRequest={}));var _u;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(_u=s.ResourceOperationKind||(s.ResourceOperationKind={}));var Pu;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(Pu=s.FailureHandlingKind||(s.FailureHandlingKind={}));var wu;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(wu=s.PositionEncodingKind||(s.PositionEncodingKind={}));var Cu;(function(e){function t(i){let r=i;return r&&de.string(r.id)&&r.id.length>0}e.hasId=t})(Cu=s.StaticRegistrationOptions||(s.StaticRegistrationOptions={}));var qu;(function(e){function t(i){let r=i;return r&&(r.documentSelector===null||Ms.is(r.documentSelector))}e.is=t})(qu=s.TextDocumentRegistrationOptions||(s.TextDocumentRegistrationOptions={}));var xu;(function(e){function t(r){let n=r;return de.objectLiteral(n)&&(n.workDoneProgress===void 0||de.boolean(n.workDoneProgress))}e.is=t;function i(r){let n=r;return n&&de.boolean(n.workDoneProgress)}e.hasWorkDoneProgress=i})(xu=s.WorkDoneProgressOptions||(s.WorkDoneProgressOptions={}));var Su;(function(e){e.method="initialize",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(Su=s.InitializeRequest||(s.InitializeRequest={}));var ku;(function(e){e.unknownProtocolVersion=1})(ku=s.InitializeErrorCodes||(s.InitializeErrorCodes={}));var Nu;(function(e){e.method="initialized",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolNotificationType(e.method)})(Nu=s.InitializedNotification||(s.InitializedNotification={}));var Ou;(function(e){e.method="shutdown",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType0(e.method)})(Ou=s.ShutdownRequest||(s.ShutdownRequest={}));var Eu;(function(e){e.method="exit",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolNotificationType0(e.method)})(Eu=s.ExitNotification||(s.ExitNotification={}));var Mu;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolNotificationType(e.method)})(Mu=s.DidChangeConfigurationNotification||(s.DidChangeConfigurationNotification={}));var ju;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4})(ju=s.MessageType||(s.MessageType={}));var Lu;(function(e){e.method="window/showMessage",e.messageDirection=D.MessageDirection.serverToClient,e.type=new D.ProtocolNotificationType(e.method)})(Lu=s.ShowMessageNotification||(s.ShowMessageNotification={}));var Au;(function(e){e.method="window/showMessageRequest",e.messageDirection=D.MessageDirection.serverToClient,e.type=new D.ProtocolRequestType(e.method)})(Au=s.ShowMessageRequest||(s.ShowMessageRequest={}));var Iu;(function(e){e.method="window/logMessage",e.messageDirection=D.MessageDirection.serverToClient,e.type=new D.ProtocolNotificationType(e.method)})(Iu=s.LogMessageNotification||(s.LogMessageNotification={}));var Fu;(function(e){e.method="telemetry/event",e.messageDirection=D.MessageDirection.serverToClient,e.type=new D.ProtocolNotificationType(e.method)})(Fu=s.TelemetryEventNotification||(s.TelemetryEventNotification={}));var Wu;(function(e){e.None=0,e.Full=1,e.Incremental=2})(Wu=s.TextDocumentSyncKind||(s.TextDocumentSyncKind={}));var Uu;(function(e){e.method="textDocument/didOpen",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolNotificationType(e.method)})(Uu=s.DidOpenTextDocumentNotification||(s.DidOpenTextDocumentNotification={}));var Hu;(function(e){function t(r){let n=r;return n!=null&&typeof n.text=="string"&&n.range!==void 0&&(n.rangeLength===void 0||typeof n.rangeLength=="number")}e.isIncremental=t;function i(r){let n=r;return n!=null&&typeof n.text=="string"&&n.range===void 0&&n.rangeLength===void 0}e.isFull=i})(Hu=s.TextDocumentContentChangeEvent||(s.TextDocumentContentChangeEvent={}));var $u;(function(e){e.method="textDocument/didChange",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolNotificationType(e.method)})($u=s.DidChangeTextDocumentNotification||(s.DidChangeTextDocumentNotification={}));var zu;(function(e){e.method="textDocument/didClose",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolNotificationType(e.method)})(zu=s.DidCloseTextDocumentNotification||(s.DidCloseTextDocumentNotification={}));var Vu;(function(e){e.method="textDocument/didSave",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolNotificationType(e.method)})(Vu=s.DidSaveTextDocumentNotification||(s.DidSaveTextDocumentNotification={}));var Bu;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(Bu=s.TextDocumentSaveReason||(s.TextDocumentSaveReason={}));var Ju;(function(e){e.method="textDocument/willSave",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolNotificationType(e.method)})(Ju=s.WillSaveTextDocumentNotification||(s.WillSaveTextDocumentNotification={}));var Qu;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(Qu=s.WillSaveTextDocumentWaitUntilRequest||(s.WillSaveTextDocumentWaitUntilRequest={}));var Xu;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolNotificationType(e.method)})(Xu=s.DidChangeWatchedFilesNotification||(s.DidChangeWatchedFilesNotification={}));var Gu;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(Gu=s.FileChangeType||(s.FileChangeType={}));var Zu;(function(e){function t(i){let r=i;return de.objectLiteral(r)&&(qs.URI.is(r.baseUri)||qs.WorkspaceFolder.is(r.baseUri))&&de.string(r.pattern)}e.is=t})(Zu=s.RelativePattern||(s.RelativePattern={}));var Yu;(function(e){e.Create=1,e.Change=2,e.Delete=4})(Yu=s.WatchKind||(s.WatchKind={}));var Ku;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=D.MessageDirection.serverToClient,e.type=new D.ProtocolNotificationType(e.method)})(Ku=s.PublishDiagnosticsNotification||(s.PublishDiagnosticsNotification={}));var el;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(el=s.CompletionTriggerKind||(s.CompletionTriggerKind={}));var tl;(function(e){e.method="textDocument/completion",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(tl=s.CompletionRequest||(s.CompletionRequest={}));var nl;(function(e){e.method="completionItem/resolve",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(nl=s.CompletionResolveRequest||(s.CompletionResolveRequest={}));var rl;(function(e){e.method="textDocument/hover",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(rl=s.HoverRequest||(s.HoverRequest={}));var il;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(il=s.SignatureHelpTriggerKind||(s.SignatureHelpTriggerKind={}));var ol;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(ol=s.SignatureHelpRequest||(s.SignatureHelpRequest={}));var sl;(function(e){e.method="textDocument/definition",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(sl=s.DefinitionRequest||(s.DefinitionRequest={}));var al;(function(e){e.method="textDocument/references",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(al=s.ReferencesRequest||(s.ReferencesRequest={}));var cl;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(cl=s.DocumentHighlightRequest||(s.DocumentHighlightRequest={}));var ul;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(ul=s.DocumentSymbolRequest||(s.DocumentSymbolRequest={}));var ll;(function(e){e.method="textDocument/codeAction",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(ll=s.CodeActionRequest||(s.CodeActionRequest={}));var dl;(function(e){e.method="codeAction/resolve",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(dl=s.CodeActionResolveRequest||(s.CodeActionResolveRequest={}));var fl;(function(e){e.method="workspace/symbol",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(fl=s.WorkspaceSymbolRequest||(s.WorkspaceSymbolRequest={}));var pl;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(pl=s.WorkspaceSymbolResolveRequest||(s.WorkspaceSymbolResolveRequest={}));var hl;(function(e){e.method="textDocument/codeLens",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(hl=s.CodeLensRequest||(s.CodeLensRequest={}));var gl;(function(e){e.method="codeLens/resolve",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(gl=s.CodeLensResolveRequest||(s.CodeLensResolveRequest={}));var ml;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=D.MessageDirection.serverToClient,e.type=new D.ProtocolRequestType0(e.method)})(ml=s.CodeLensRefreshRequest||(s.CodeLensRefreshRequest={}));var yl;(function(e){e.method="textDocument/documentLink",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(yl=s.DocumentLinkRequest||(s.DocumentLinkRequest={}));var vl;(function(e){e.method="documentLink/resolve",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(vl=s.DocumentLinkResolveRequest||(s.DocumentLinkResolveRequest={}));var bl;(function(e){e.method="textDocument/formatting",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(bl=s.DocumentFormattingRequest||(s.DocumentFormattingRequest={}));var Rl;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(Rl=s.DocumentRangeFormattingRequest||(s.DocumentRangeFormattingRequest={}));var Dl;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(Dl=s.DocumentOnTypeFormattingRequest||(s.DocumentOnTypeFormattingRequest={}));var Tl;(function(e){e.Identifier=1})(Tl=s.PrepareSupportDefaultBehavior||(s.PrepareSupportDefaultBehavior={}));var _l;(function(e){e.method="textDocument/rename",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(_l=s.RenameRequest||(s.RenameRequest={}));var Pl;(function(e){e.method="textDocument/prepareRename",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(Pl=s.PrepareRenameRequest||(s.PrepareRenameRequest={}));var wl;(function(e){e.method="workspace/executeCommand",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(wl=s.ExecuteCommandRequest||(s.ExecuteCommandRequest={}));var Cl;(function(e){e.method="workspace/applyEdit",e.messageDirection=D.MessageDirection.serverToClient,e.type=new D.ProtocolRequestType("workspace/applyEdit")})(Cl=s.ApplyWorkspaceEditRequest||(s.ApplyWorkspaceEditRequest={}))});var As=E(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.createProtocolConnection=void 0;var Ls=lt();function ql(e,t,i,r){return Ls.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,Ls.createMessageConnection)(e,t,i,r)}jn.createProtocolConnection=ql});var Is=E(De=>{"use strict";var xl=De&&De.__createBinding||(Object.create?function(e,t,i,r){r===void 0&&(r=i);var n=Object.getOwnPropertyDescriptor(t,i);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,r,n)}:function(e,t,i,r){r===void 0&&(r=i),e[r]=t[i]}),Ln=De&&De.__exportStar||function(e,t){for(var i in e)i!=="default"&&!Object.prototype.hasOwnProperty.call(t,i)&&xl(t,e,i)};Object.defineProperty(De,"__esModule",{value:!0});De.LSPErrorCodes=De.createProtocolConnection=void 0;Ln(lt(),De);Ln((xn(),pn(qn)),De);Ln(Z(),De);Ln(js(),De);var Sl=As();Object.defineProperty(De,"createProtocolConnection",{enumerable:!0,get:function(){return Sl.createProtocolConnection}});var kl;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(kl=De.LSPErrorCodes||(De.LSPErrorCodes={}))});var Ws=E(He=>{"use strict";var Nl=He&&He.__createBinding||(Object.create?function(e,t,i,r){r===void 0&&(r=i);var n=Object.getOwnPropertyDescriptor(t,i);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,r,n)}:function(e,t,i,r){r===void 0&&(r=i),e[r]=t[i]}),Fs=He&&He.__exportStar||function(e,t){for(var i in e)i!=="default"&&!Object.prototype.hasOwnProperty.call(t,i)&&Nl(t,e,i)};Object.defineProperty(He,"__esModule",{value:!0});He.createProtocolConnection=void 0;var Ol=Rr();Fs(Rr(),He);Fs(Is(),He);function El(e,t,i,r){return(0,Ol.createMessageConnection)(e,t,i,r)}He.createProtocolConnection=El});var Ml={};Ei(Ml,{activate:()=>Ks});var z=Ae(require("coc.nvim")),Zs=Ae(require("util")),wi=Ae(Ws());var Te=Ae(require("coc.nvim"));function Us(e,t,i){let r,n=!1,o,a={autoQuote:!1,autoClose:!1};Te.workspace.document.then(d=>{r=d.bufnr,f(d.bufnr)});function f(d){var v,p;n=!1;let m=Te.workspace.getDocument(d);if(!m||!m.attached||!t[m.textDocument.languageId])return;let b=Te.workspace.getConfiguration("html",m.uri);a.autoQuote=(v=b.get("autoCreateQuotes"))!=null?v:!1,a.autoClose=(p=b.get("autoClosingTags"))!=null?p:!1,n=a.autoQuote||a.autoClose}Te.events.on("BufEnter",async d=>{r=d,o&&clearTimeout(o);let m=Te.workspace.getDocument(r);m||(m=await Te.workspace.document),f(m?m.bufnr:-1)},null,i),Te.events.on("TextInsert",(d,m,b)=>{if(!n)return;let v=Te.workspace.getDocument(d);if(!v||!v.attached||!t[v.textDocument.languageId])return;o&&clearTimeout(o);let p={line:m.lnum-1,character:m.pre.length};a.autoQuote&&b==="="?l("autoQuote",v,p,b):a.autoClose&&(b===">"||b==="/")&&l("autoClose",v,p,b)},null,i);function l(d,m,b,v){let p=m.changedtick;m.patchChange(!0),o=setTimeout(()=>{e(d,m.textDocument,b).then(x=>{if(x&&a[d]&&r==m.bufnr&&m.changedtick==p){let w={character:b.character,line:b.line};v==="/"&&m.getline(b.line)[b.character]==">"&&(w.character=b.character+1),Te.workspace.nvim.call("coc#_cancel",[],!0),Te.snippetManager.insertSnippet(x,!0,{start:b,end:w})}}),o=void 0},100)}}var ye=Ae(require("coc.nvim")),$s=Ae(require("fs"));var Hs;(()=>{"use strict";var e={470:n=>{function o(l){if(typeof l!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(l))}function a(l,d){for(var m,b="",v=0,p=-1,x=0,w=0;w<=l.length;++w){if(w<l.length)m=l.charCodeAt(w);else{if(m===47)break;m=47}if(m===47){if(!(p===w-1||x===1))if(p!==w-1&&x===2){if(b.length<2||v!==2||b.charCodeAt(b.length-1)!==46||b.charCodeAt(b.length-2)!==46){if(b.length>2){var L=b.lastIndexOf("/");if(L!==b.length-1){L===-1?(b="",v=0):v=(b=b.slice(0,L)).length-1-b.lastIndexOf("/"),p=w,x=0;continue}}else if(b.length===2||b.length===1){b="",v=0,p=w,x=0;continue}}d&&(b.length>0?b+="/..":b="..",v=2)}else b.length>0?b+="/"+l.slice(p+1,w):b=l.slice(p+1,w),v=w-p-1;p=w,x=0}else m===46&&x!==-1?++x:x=-1}return b}var f={resolve:function(){for(var l,d="",m=!1,b=arguments.length-1;b>=-1&&!m;b--){var v;b>=0?v=arguments[b]:(l===void 0&&(l=process.cwd()),v=l),o(v),v.length!==0&&(d=v+"/"+d,m=v.charCodeAt(0)===47)}return d=a(d,!m),m?d.length>0?"/"+d:"/":d.length>0?d:"."},normalize:function(l){if(o(l),l.length===0)return".";var d=l.charCodeAt(0)===47,m=l.charCodeAt(l.length-1)===47;return(l=a(l,!d)).length!==0||d||(l="."),l.length>0&&m&&(l+="/"),d?"/"+l:l},isAbsolute:function(l){return o(l),l.length>0&&l.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var l,d=0;d<arguments.length;++d){var m=arguments[d];o(m),m.length>0&&(l===void 0?l=m:l+="/"+m)}return l===void 0?".":f.normalize(l)},relative:function(l,d){if(o(l),o(d),l===d||(l=f.resolve(l))===(d=f.resolve(d)))return"";for(var m=1;m<l.length&&l.charCodeAt(m)===47;++m);for(var b=l.length,v=b-m,p=1;p<d.length&&d.charCodeAt(p)===47;++p);for(var x=d.length-p,w=v<x?v:x,L=-1,O=0;O<=w;++O){if(O===w){if(x>w){if(d.charCodeAt(p+O)===47)return d.slice(p+O+1);if(O===0)return d.slice(p+O)}else v>w&&(l.charCodeAt(m+O)===47?L=O:O===0&&(L=0));break}var I=l.charCodeAt(m+O);if(I!==d.charCodeAt(p+O))break;I===47&&(L=O)}var M="";for(O=m+L+1;O<=b;++O)O!==b&&l.charCodeAt(O)!==47||(M.length===0?M+="..":M+="/..");return M.length>0?M+d.slice(p+L):(p+=L,d.charCodeAt(p)===47&&++p,d.slice(p))},_makeLong:function(l){return l},dirname:function(l){if(o(l),l.length===0)return".";for(var d=l.charCodeAt(0),m=d===47,b=-1,v=!0,p=l.length-1;p>=1;--p)if((d=l.charCodeAt(p))===47){if(!v){b=p;break}}else v=!1;return b===-1?m?"/":".":m&&b===1?"//":l.slice(0,b)},basename:function(l,d){if(d!==void 0&&typeof d!="string")throw new TypeError('"ext" argument must be a string');o(l);var m,b=0,v=-1,p=!0;if(d!==void 0&&d.length>0&&d.length<=l.length){if(d.length===l.length&&d===l)return"";var x=d.length-1,w=-1;for(m=l.length-1;m>=0;--m){var L=l.charCodeAt(m);if(L===47){if(!p){b=m+1;break}}else w===-1&&(p=!1,w=m+1),x>=0&&(L===d.charCodeAt(x)?--x==-1&&(v=m):(x=-1,v=w))}return b===v?v=w:v===-1&&(v=l.length),l.slice(b,v)}for(m=l.length-1;m>=0;--m)if(l.charCodeAt(m)===47){if(!p){b=m+1;break}}else v===-1&&(p=!1,v=m+1);return v===-1?"":l.slice(b,v)},extname:function(l){o(l);for(var d=-1,m=0,b=-1,v=!0,p=0,x=l.length-1;x>=0;--x){var w=l.charCodeAt(x);if(w!==47)b===-1&&(v=!1,b=x+1),w===46?d===-1?d=x:p!==1&&(p=1):d!==-1&&(p=-1);else if(!v){m=x+1;break}}return d===-1||b===-1||p===0||p===1&&d===b-1&&d===m+1?"":l.slice(d,b)},format:function(l){if(l===null||typeof l!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof l);return function(d,m){var b=m.dir||m.root,v=m.base||(m.name||"")+(m.ext||"");return b?b===m.root?b+v:b+"/"+v:v}(0,l)},parse:function(l){o(l);var d={root:"",dir:"",base:"",ext:"",name:""};if(l.length===0)return d;var m,b=l.charCodeAt(0),v=b===47;v?(d.root="/",m=1):m=0;for(var p=-1,x=0,w=-1,L=!0,O=l.length-1,I=0;O>=m;--O)if((b=l.charCodeAt(O))!==47)w===-1&&(L=!1,w=O+1),b===46?p===-1?p=O:I!==1&&(I=1):p!==-1&&(I=-1);else if(!L){x=O+1;break}return p===-1||w===-1||I===0||I===1&&p===w-1&&p===x+1?w!==-1&&(d.base=d.name=x===0&&v?l.slice(1,w):l.slice(x,w)):(x===0&&v?(d.name=l.slice(1,p),d.base=l.slice(1,w)):(d.name=l.slice(x,p),d.base=l.slice(x,w)),d.ext=l.slice(p,w)),x>0?d.dir=l.slice(0,x-1):v&&(d.dir="/"),d},sep:"/",delimiter:":",win32:null,posix:null};f.posix=f,n.exports=f}},t={};function i(n){var o=t[n];if(o!==void 0)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,i),a.exports}i.d=(n,o)=>{for(var a in o)i.o(o,a)&&!i.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:o[a]})},i.o=(n,o)=>Object.prototype.hasOwnProperty.call(n,o),i.r=n=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var r={};(()=>{var n;if(i.r(r),i.d(r,{URI:()=>w,Utils:()=>ht}),typeof process=="object")n=process.platform==="win32";else if(typeof navigator=="object"){var o=navigator.userAgent;n=o.indexOf("Windows")>=0}var a,f,l=(a=function(T,h){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,_){R.__proto__=_}||function(R,_){for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(R[j]=_[j])},a(T,h)},function(T,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function R(){this.constructor=T}a(T,h),T.prototype=h===null?Object.create(h):(R.prototype=h.prototype,new R)}),d=/^\w[\w\d+.-]*$/,m=/^\//,b=/^\/\//,v="",p="/",x=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,w=function(){function T(h,R,_,j,N,A){A===void 0&&(A=!1),typeof h=="object"?(this.scheme=h.scheme||v,this.authority=h.authority||v,this.path=h.path||v,this.query=h.query||v,this.fragment=h.fragment||v):(this.scheme=function(te,he){return te||he?te:"file"}(h,A),this.authority=R||v,this.path=function(te,he){switch(te){case"https":case"http":case"file":he?he[0]!==p&&(he=p+he):he=p}return he}(this.scheme,_||v),this.query=j||v,this.fragment=N||v,function(te,he){if(!te.scheme&&he)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(te.authority,'", path: "').concat(te.path,'", query: "').concat(te.query,'", fragment: "').concat(te.fragment,'"}'));if(te.scheme&&!d.test(te.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(te.path){if(te.authority){if(!m.test(te.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(b.test(te.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}(this,A))}return T.isUri=function(h){return h instanceof T||!!h&&typeof h.authority=="string"&&typeof h.fragment=="string"&&typeof h.path=="string"&&typeof h.query=="string"&&typeof h.scheme=="string"&&typeof h.fsPath=="string"&&typeof h.with=="function"&&typeof h.toString=="function"},Object.defineProperty(T.prototype,"fsPath",{get:function(){return U(this,!1)},enumerable:!1,configurable:!0}),T.prototype.with=function(h){if(!h)return this;var R=h.scheme,_=h.authority,j=h.path,N=h.query,A=h.fragment;return R===void 0?R=this.scheme:R===null&&(R=v),_===void 0?_=this.authority:_===null&&(_=v),j===void 0?j=this.path:j===null&&(j=v),N===void 0?N=this.query:N===null&&(N=v),A===void 0?A=this.fragment:A===null&&(A=v),R===this.scheme&&_===this.authority&&j===this.path&&N===this.query&&A===this.fragment?this:new O(R,_,j,N,A)},T.parse=function(h,R){R===void 0&&(R=!1);var _=x.exec(h);return _?new O(_[2]||v,rt(_[4]||v),rt(_[5]||v),rt(_[7]||v),rt(_[9]||v),R):new O(v,v,v,v,v)},T.file=function(h){var R=v;if(n&&(h=h.replace(/\\/g,p)),h[0]===p&&h[1]===p){var _=h.indexOf(p,2);_===-1?(R=h.substring(2),h=p):(R=h.substring(2,_),h=h.substring(_)||p)}return new O("file",R,h,v,v)},T.from=function(h){return new O(h.scheme,h.authority,h.path,h.query,h.fragment)},T.prototype.toString=function(h){return h===void 0&&(h=!1),pe(this,h)},T.prototype.toJSON=function(){return this},T.revive=function(h){if(h){if(h instanceof T)return h;var R=new O(h);return R._formatted=h.external,R._fsPath=h._sep===L?h.fsPath:null,R}return h},T}(),L=n?1:void 0,O=function(T){function h(){var R=T!==null&&T.apply(this,arguments)||this;return R._formatted=null,R._fsPath=null,R}return l(h,T),Object.defineProperty(h.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=U(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),h.prototype.toString=function(R){return R===void 0&&(R=!1),R?pe(this,!0):(this._formatted||(this._formatted=pe(this,!1)),this._formatted)},h.prototype.toJSON=function(){var R={$mid:1};return this._fsPath&&(R.fsPath=this._fsPath,R._sep=L),this._formatted&&(R.external=this._formatted),this.path&&(R.path=this.path),this.scheme&&(R.scheme=this.scheme),this.authority&&(R.authority=this.authority),this.query&&(R.query=this.query),this.fragment&&(R.fragment=this.fragment),R},h}(w),I=((f={})[58]="%3A",f[47]="%2F",f[63]="%3F",f[35]="%23",f[91]="%5B",f[93]="%5D",f[64]="%40",f[33]="%21",f[36]="%24",f[38]="%26",f[39]="%27",f[40]="%28",f[41]="%29",f[42]="%2A",f[43]="%2B",f[44]="%2C",f[59]="%3B",f[61]="%3D",f[32]="%20",f);function M(T,h){for(var R=void 0,_=-1,j=0;j<T.length;j++){var N=T.charCodeAt(j);if(N>=97&&N<=122||N>=65&&N<=90||N>=48&&N<=57||N===45||N===46||N===95||N===126||h&&N===47)_!==-1&&(R+=encodeURIComponent(T.substring(_,j)),_=-1),R!==void 0&&(R+=T.charAt(j));else{R===void 0&&(R=T.substr(0,j));var A=I[N];A!==void 0?(_!==-1&&(R+=encodeURIComponent(T.substring(_,j)),_=-1),R+=A):_===-1&&(_=j)}}return _!==-1&&(R+=encodeURIComponent(T.substring(_))),R!==void 0?R:T}function fe(T){for(var h=void 0,R=0;R<T.length;R++){var _=T.charCodeAt(R);_===35||_===63?(h===void 0&&(h=T.substr(0,R)),h+=I[_]):h!==void 0&&(h+=T[R])}return h!==void 0?h:T}function U(T,h){var R;return R=T.authority&&T.path.length>1&&T.scheme==="file"?"//".concat(T.authority).concat(T.path):T.path.charCodeAt(0)===47&&(T.path.charCodeAt(1)>=65&&T.path.charCodeAt(1)<=90||T.path.charCodeAt(1)>=97&&T.path.charCodeAt(1)<=122)&&T.path.charCodeAt(2)===58?h?T.path.substr(1):T.path[1].toLowerCase()+T.path.substr(2):T.path,n&&(R=R.replace(/\//g,"\\")),R}function pe(T,h){var R=h?fe:M,_="",j=T.scheme,N=T.authority,A=T.path,te=T.query,he=T.fragment;if(j&&(_+=j,_+=":"),(N||j==="file")&&(_+=p,_+=p),N){var _e=N.indexOf("@");if(_e!==-1){var mt=N.substr(0,_e);N=N.substr(_e+1),(_e=mt.indexOf(":"))===-1?_+=R(mt,!1):(_+=R(mt.substr(0,_e),!1),_+=":",_+=R(mt.substr(_e+1),!1)),_+="@"}(_e=(N=N.toLowerCase()).indexOf(":"))===-1?_+=R(N,!1):(_+=R(N.substr(0,_e),!1),_+=N.substr(_e))}if(A){if(A.length>=3&&A.charCodeAt(0)===47&&A.charCodeAt(2)===58)(Ze=A.charCodeAt(1))>=65&&Ze<=90&&(A="/".concat(String.fromCharCode(Ze+32),":").concat(A.substr(3)));else if(A.length>=2&&A.charCodeAt(1)===58){var Ze;(Ze=A.charCodeAt(0))>=65&&Ze<=90&&(A="".concat(String.fromCharCode(Ze+32),":").concat(A.substr(2)))}_+=R(A,!0)}return te&&(_+="?",_+=R(te,!1)),he&&(_+="#",_+=h?he:M(he,!1)),_}function Ce(T){try{return decodeURIComponent(T)}catch{return T.length>3?T.substr(0,3)+Ce(T.substr(3)):T}}var Ge=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function rt(T){return T.match(Ge)?T.replace(Ge,function(h){return Ce(h)}):T}var ht,jt=i(470),it=function(T,h,R){if(R||arguments.length===2)for(var _,j=0,N=h.length;j<N;j++)!_&&j in h||(_||(_=Array.prototype.slice.call(h,0,j)),_[j]=h[j]);return T.concat(_||Array.prototype.slice.call(h))},Le=jt.posix||jt,gt="/";(function(T){T.joinPath=function(h){for(var R=[],_=1;_<arguments.length;_++)R[_-1]=arguments[_];return h.with({path:Le.join.apply(Le,it([h.path],R,!1))})},T.resolvePath=function(h){for(var R=[],_=1;_<arguments.length;_++)R[_-1]=arguments[_];var j=h.path,N=!1;j[0]!==gt&&(j=gt+j,N=!0);var A=Le.resolve.apply(Le,it([j],R,!1));return N&&A[0]===gt&&!h.authority&&(A=A.substring(1)),h.with({path:A})},T.dirname=function(h){if(h.path.length===0||h.path===gt)return h;var R=Le.dirname(h.path);return R.length===1&&R.charCodeAt(0)===46&&(R=""),h.with({path:R})},T.basename=function(h){return Le.basename(h.path)},T.extname=function(h){return Le.extname(h.path)}})(ht||(ht={}))})(),Hs=r})();var{URI:Nd,Utils:Di}=Hs;var ln=Ae(require("util"));function zs(e){let t=new Set,i=new Set,r=new Set;Js(r),Qs(t,i);let n=new ye.Emitter;return e.push(ye.extensions.onDidActiveExtension(o=>{let a=new Set,f=new Set;Qs(a,f),(Vs(a,t)||Vs(f,i))&&(t=a,i=f,n.fire())})),e.push(ye.workspace.onDidChangeConfiguration(o=>{o.affectsConfiguration("html.customData")&&(r.clear(),Js(r),n.fire())})),e.push(ye.workspace.onDidChangeTextDocument(o=>{let a=o.textDocument.uri;(i.has(a)||r.has(a))&&n.fire()})),{get uris(){return[...t].concat([...i],[...r])},get onDidChange(){return n.event},getContent(o){let a=ye.Uri.parse(o);return a.scheme==="file"?(0,ln.promisify)($s.default.readFile)(a.fsPath).then(f=>new ln.TextDecoder().decode(f)):(0,ye.fetch)(o,{timeout:5e3,buffer:!0}).then(f=>new ln.TextDecoder().decode(f))}}}function Vs(e,t){if(e.size!==t.size)return!0;for(let i of e)if(!t.has(i))return!0;return!1}function Bs(e){return/^(?<scheme>\w[\w\d+.-]*):/.test(e)}function Js(e){let t=ye.workspace.workspaceFolders;if(!t)return;let i=(r,n)=>{if(Array.isArray(r))for(let o of r)typeof o=="string"&&(Bs(o)?e.add(o):e.add(Di.resolvePath(ye.Uri.parse(n),o).toString()))};for(let r=0;r<t.length;r++){let n=t[r].uri,a=ye.workspace.getConfiguration("html",n).inspect("customData");a&&(i(a.workspaceValue,n),r===0&&i(a.globalValue,n))}}function Qs(e,t){var i,r,n;for(let o of ye.extensions.all){let a=(n=(r=(i=o.packageJSON)==null?void 0:i.contributes)==null?void 0:r.html)==null?void 0:n.customData;if(Array.isArray(a))for(let f of a)if(Bs(f))t.add(f);else{let l=ye.Uri.file(o.extensionPath);e.add(Di.joinPath(l,f).toString())}}}var An=Ae(require("fs")),Pi=Ae(require("coc.nvim"));var $e=Ae(require("coc.nvim")),Ti;(t=>{t.type=new $e.RequestType("fs/stat")})(Ti||(Ti={}));var _i;(t=>{t.type=new $e.RequestType("fs/readDir")})(_i||(_i={}));function Xs(e,t){let i=[];return i.push(e.onRequest(_i.type,r=>{if($e.Uri.parse(r).scheme==="file"&&t.fileFs)return t.fileFs.readDirectory(r)})),i.push(e.onRequest(Ti.type,r=>{if($e.Uri.parse(r).scheme==="file"&&t.fileFs)return t.fileFs.stat(r)})),$e.Disposable.create(()=>{(0,$e.disposeAll)(i)})}var je=(n=>(n[n.Unknown=0]="Unknown",n[n.File=1]="File",n[n.Directory=2]="Directory",n[n.SymbolicLink=64]="SymbolicLink",n))(je||{});function Gs(){function e(t){if(!t.startsWith("file:"))throw new Error("fileRequestService can only handle file URLs")}return{stat(t){return e(t),new Promise((i,r)=>{let n=Pi.Uri.parse(t);An.stat(n.fsPath,(o,a)=>{if(o)return o.code==="ENOENT"?i({type:0,ctime:-1,mtime:-1,size:-1}):r(o);let f=0;a.isFile()?f=1:a.isDirectory()?f=2:a.isSymbolicLink()&&(f=64),i({type:f,ctime:a.ctime.getTime(),mtime:a.mtime.getTime(),size:a.size})})})},readDirectory(t){return e(t),new Promise((i,r)=>{let n=Pi.Uri.parse(t).fsPath;An.readdir(n,{withFileTypes:!0},(o,a)=>{if(o)return r(o);i(a.map(f=>f.isSymbolicLink()?[f.name,64]:f.isDirectory()?[f.name,2]:f.isFile()?[f.name,1]:[f.name,0]))})})}}}var Ci;(t=>{t.type=new z.RequestType0("html/semanticTokenLegend")})(Ci||(Ci={}));var In;(t=>{t.type=new z.RequestType("html/semanticTokens")})(In||(In={}));var Fn;(t=>{t.type=new z.NotificationType("html/customDataChanged")})(Fn||(Fn={}));var qi;(t=>{t.type=new z.RequestType("html/customDataContent")})(qi||(qi={}));var xi;(t=>{t.type=new z.RequestType("html/autoInsert")})(xi||(xi={}));var Wn;(i=>{i.linkedEditing="editor.linkedEditing",i.formatEnable="html.format.enable"})(Wn||(Wn={}));async function Ys(e,t){let{subscriptions:i}=e,r=z.workspace.getConfiguration().get("html",{}),n=e.asAbsolutePath("lib/server.js"),o=t.map(w=>({language:w})),a={setTimeout(w,L,...O){let I=setTimeout(w,L,...O);return{dispose:()=>clearTimeout(I)}}},f={fileFs:Gs(),TextDecoder:Zs.TextDecoder,timer:a},l={css:!0,javascript:!0},d,m={execArgv:["--nolazy","--inspect="+(8e3+Math.round(Math.random()*999))]},b={run:{module:n,transport:z.TransportKind.ipc,options:{execArgv:r.execArgv||[]}},debug:{module:n,transport:z.TransportKind.ipc,options:m}},v={documentSelector:o,synchronize:{configurationSection:["html","css","javascript"]},outputChannelName:"html",initializationOptions:{embeddedLanguages:l,handledSchemas:["file"],provideFormatter:!1,customCapabilities:{rangeFormatting:{editLimit:1e4}}}},p=new z.LanguageClient("html","HTML language server",b,v);await p.start();function x(){let w=z.workspace.getConfiguration().get(Wn.formatEnable);!w&&d?(d.dispose(),d=void 0):w&&!d&&(d=z.languages.registerDocumentRangeFormatProvider(t,{provideDocumentRangeFormattingEdits(L,O,I,M){let fe={textDocument:{uri:L.uri},range:O,options:I};return p.sendRequest(wi.DocumentRangeFormattingRequest.type,fe,M).catch(U=>(p.handleFailedRequest(wi.DocumentRangeFormattingRequest.type,void 0,U,[]),Promise.resolve([])))}}))}i.push(Xs(p,f)),p.onReady().then(()=>{x(),i.push({dispose:()=>d&&d.dispose()}),i.push(z.workspace.onDidChangeConfiguration(I=>I.affectsConfiguration(Wn.formatEnable)&&x()));let w=zs(e.subscriptions);p.sendNotification(Fn.type,w.uris),w.onDidChange(()=>{p.sendNotification(Fn.type,w.uris)}),p.onRequest(qi.type,w.getContent);let L=(I,M,fe)=>{let U={kind:I,textDocument:{uri:M.uri},position:fe};return p.sendRequest(xi.type,U)},O=Object.assign({},...t.map(I=>({[I]:!0})));Us(L,O,e.subscriptions),typeof z.languages.registerDocumentSemanticTokensProvider=="function"&&p.sendRequest(Ci.type).then(I=>{if(I){let M={provideDocumentSemanticTokens(U){let pe={textDocument:{uri:U.uri}};return p.sendRequest(In.type,pe).then(Ce=>Ce&&{data:Ce})},provideDocumentRangeSemanticTokens(U,pe){let Ce={textDocument:{uri:U.uri},ranges:[pe]};return p.sendRequest(In.type,Ce).then(Ge=>Ge&&{data:Ge})}},fe={tokenTypes:I.types,tokenModifiers:I.modifiers};e.subscriptions.push(z.languages.registerDocumentSemanticTokensProvider(o,M,fe)),e.subscriptions.push(z.languages.registerDocumentRangeSemanticTokensProvider(o,M,fe))}})},w=>{}),i.push(z.services.registLanguageClient(p))}async function Ks(e){let i=z.workspace.getConfiguration("html").get("filetypes",["html","handlebars","htmldjango","blade"]),r=!1;for(let n of z.workspace.textDocuments)i.includes(n.languageId)&&!r&&(r=!0,Ys(e,i));if(!r){let n=z.workspace.onDidOpenTextDocument(o=>{r||!i.includes(o.languageId)||(n.dispose(),r=!0,Ys(e,i))},null,e.subscriptions)}}module.exports=pn(Ml);0&&(module.exports={activate});
//# sourceMappingURL=index.js.map
